{"version":3,"sources":["config/api.js","reducers/session.js","actions/types.js","reducers/index.js","store/index.js","config/cognito.js","lib/utils/session.js","lib/utils/cognito.js","components/layout/MainContainer.js","components/layout/FormCard.js","components/user/UserForm.js","components/user/Create.js","components/helpers/image/Spinner.js","components/helpers/image/Images.js","components/helpers/image/Buttons.js","components/recipe/RecipeForm.js","components/recipe/Create.js","components/recipe/Edit.js","components/user/Edit.js","components/home/Home.js","components/home/Login.js","components/layout/Navbar.js","components/home/Page404.js","components/auth/PrivateRoute.js","components/recipe/RecipeRow.js","components/recipe/RecipeIndex.js","components/layout/StarBar.js","components/recipe/View.js","components/user/UserRow.js","components/user/UserIndex.js","App.js","serviceWorker.ts","index.tsx"],"names":["require","config","module","exports","host","process","port","initialState","isLoggedIn","isAdmin","session","state","action","type","Object","assign","combineReducers","storeEnhancers","compose","store","createStore","rootReducer","applyMiddleware","thunk","cognitoConfig","apiUrl","region","userPool","clientId","userPoolBaseUri","callbackUri","signoutUri","tokenScopes","apiUri","setSessionCookie","Cookie","set","initSession","dispatch","get","JSON","parse","current_time","Date","now","expiration","hasSession","getCognitoSession","then","initSessionFromCallbackURI","callbackHref","parseCognitoWebResponse","AWSConfig","createCognitoAuth","appWebDomain","replace","CognitoAuth","UserPoolId","ClientId","AppWebDomain","TokenScopesArray","RedirectUriSignIn","RedirectUriSignOut","createCognitoUser","createCognitoUserPool","getCurrentUser","CognitoUserPool","href","Promise","resolve","reject","auth","userhandler","onSuccess","result","onFailure","err","Error","getSession","credentials","accessToken","jwtToken","idToken","refreshToken","token","user","userName","payload","email","groups","Array","indexOf","exp","remove","signOut","MainContainer","props","className","children","FormCard","icon","faTimesCircle","size","onClick","returnToIndex","UserForm","id","onSubmit","processFormSubmission","noValidate","htmlFor","disabled","edit","defaultValue","Username","onChange","e","handleInputChanges","name","placeholder","phone_number","onKeyDown","persist","keyCode","currentTarget","value","length","Number","isInteger","parseInt","key","currentValue","target","setTimeout","preventDefault","addPhonePrefix","loading","CreateUser","setState","formData","submitSuccess","values","axios","post","apiConfig","headers","data","history","push","catch","error","submitFail","errorMessage","response","message","this","Authorization","role","React","connect","faBowlingBall","color","images","map","image","i","removeImage","public_id","src","window","URL","createObjectURL","alt","faImage","RecipeForm","recipe","rating","isPublic","Create","FormData","append","is_public","forEach","file","files","from","uploading","filter","submitted_by","Spinner","Images","Buttons","content","EditRecipe","a","put","setValues","match","params","EditUser","Home","onSignOut","cognitoUtils","apiStatus","Component","Login","location","hash","search","to","Navbar","height","width","data-toggle","data-target","Page404","PrivateRoute","component","roles","rest","render","pathname","RecipeRow","viewRecipe","style","marginBottom","marginLeft","cursor","faEdit","editRecipe","faTrash","deleteRecipe","RecipeIndex","recipes","bind","sort","b","confirmAlert","title","buttons","label","delete","index","findIndex","splice","recipeId","scope","colspan","StarBar","stars","faStar","RecipeView","pic","picture","UserRow","editUser","deleteUser","UserIndex","users","uname","App","path","exact","CreateRecipe","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","console"],"mappings":"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","file":"static/js/main.3de876a4.chunk.js","sourcesContent":["require('dotenv').config();\nmodule.exports = {\n    host : process.env.REACT_APP_API_BASE, \n    port : process.env.REACT_APP_API_PORT,\n}","import { CLEAR_SESSION, SET_SESSION } from '../actions/types';\n\nconst initialState = {\n  isLoggedIn: false,\n  isAdmin: false\n}\n\nconst session = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_SESSION:\n      return Object.assign({},\n        action.session,\n        { isLoggedIn: true })\n\n    case CLEAR_SESSION:\n      return initialState\n\n    default:\n      return state\n  }\n}\n\nexport default session","export const CLEAR_SESSION = 'CLEAR_SESSION'\nexport const SET_SESSION = 'SET_SESSION'","import { combineReducers } from 'redux'\nimport session from './session'\n\nexport default combineReducers({\n  session\n})","import { createStore, applyMiddleware, compose } from 'redux'\nimport rootReducer from '../reducers'\nimport thunk from 'redux-thunk'\nrequire('dotenv').config()\n\nconst storeEnhancers =\n  (process.env.REACT_APP_ENV !== 'PROD' &&\n    typeof window !== 'undefined' &&\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\n  compose;\n\nconst store = createStore(rootReducer,\n  storeEnhancers(applyMiddleware(thunk))\n)\n\nexport default store","\nrequire('dotenv').config()\nexport const cognitoConfig = { \n    apiUrl : process.env.REACT_APP_API_HOST,\n    region : process.env.REACT_APP_AWS_DEFAULT_REGION,\n    userPool: process.env.REACT_APP_AWS_COGNITO_USER_POOL,\n    clientId : process.env.REACT_APP_AWS_COGNITO_CLIENT_ID,\n    userPoolBaseUri : process.env.REACT_APP_AWS_COGNITO_USER_POOL_BASE_URI,\n    callbackUri: process.env.REACT_APP_AWS_COGNITO_CALLBACK_URI,\n    signoutUri : process.env.REACT_APP_AWS_COGNITO_SIGNOUT_URI,\n    tokenScopes: [\n    \"openid\",\n    \"email\",\n    \"profile\"\n    ],\n    apiUri: process.env.REACT_APP_API_HOST\n};","import Cookie from \"js-cookie\"\n\nexport function setSessionCookie(session)\n{\n  Cookie.set(\"x-token\", session);\n}\n// Initialise the Cognito sesson from a callback href\nexport function hasSession() {\n    if(Cookie.get(\"x-token\"))\n    {\n      const session = JSON.parse(Cookie.get(\"x-token\"));\n      var current_time = Date.now() / 1000;\n      if ( session.expiration > current_time) {\n        return session;\n      }\n    }\n  return false;\n}\n\nexport function clearSession() {\n  if(Cookie.get(\"x-token\"))\n  {\n    Cookie.remove(\"x-token\")\n  }\nreturn false;\n}","import { CognitoAuth } from 'amazon-cognito-auth-js/dist/amazon-cognito-auth'\nimport { CognitoUserPool } from 'amazon-cognito-identity-js'\nimport { config as AWSConfig } from 'aws-sdk'\nimport { cognitoConfig } from '../../config/cognito.js'\nimport { hasSession, clearSession, setSessionCookie } from './session';\nimport { SET_SESSION } from './../../actions/types';\n\n\nexport function initSession()\n{\n  return function (dispatch) {\n    let session = hasSession();\n    if(session)\n    {\n      getCognitoSession() // get a new session\n      .then((session) => {\n        setSessionCookie(session);\n        dispatch({ type: SET_SESSION, session })\n      })\n    }\n  return false;\n  }\n}\n\n// Initialise the Cognito sesson from a callback href\nexport function initSessionFromCallbackURI (callbackHref) {\n  return function (dispatch) {\n    return parseCognitoWebResponse(callbackHref) // parse the callback URL\n      .then(() => getCognitoSession()) // get a new session\n      .then((session) => {\n        setSessionCookie(session);\n        dispatch({ type: SET_SESSION, session })\n      })\n  }\n}\n\nAWSConfig.region = cognitoConfig.region\n\n// Creates a CognitoAuth instance\nconst createCognitoAuth = () => {\n  const appWebDomain = cognitoConfig.userPoolBaseUri.replace('https://', '').replace('http://', '')\n  const auth = new CognitoAuth({\n    UserPoolId: cognitoConfig.userPool,\n    ClientId: cognitoConfig.clientId,\n    AppWebDomain: appWebDomain,\n    TokenScopesArray: cognitoConfig.tokenScopes,\n    RedirectUriSignIn: cognitoConfig.callbackUri,\n    RedirectUriSignOut: cognitoConfig.signoutUri\n  })\n  return auth\n}\n\n// Creates a CognitoUser instance\nconst createCognitoUser = () => {\n  const pool = createCognitoUserPool()\n  return pool.getCurrentUser()\n}\n\n// Creates a CognitoUserPool instance\nconst createCognitoUserPool = () => new CognitoUserPool({\n  UserPoolId: cognitoConfig.userPool,\n  ClientId: cognitoConfig.clientId\n})\n\n// Get the URI of the hosted sign in screen\nconst getCognitoSignInUri = () => {\n  const signinUri = `${cognitoConfig.userPoolBaseUri}/login?response_type=code&client_id=${cognitoConfig.clientId}&redirect_uri=${cognitoConfig.callbackUri}`\n  return signinUri\n}\n\n// Parse the response from a Cognito callback URI (assumed a token or code is in the supplied href). Returns a promise.\nconst parseCognitoWebResponse = (href) => {\n  return new Promise((resolve, reject) => {\n    const auth = createCognitoAuth()\n\n    // userHandler will trigger the promise\n    auth.userhandler = {\n      onSuccess: function (result) {\n        resolve(result)\n      },\n      onFailure: function (err) {\n        reject(new Error('Failure parsing Cognito web response: ' + err))\n      }\n    }\n    auth.parseCognitoWebResponse(href)\n  })\n}\n\n// Gets a new Cognito session. Returns a promise.\nconst getCognitoSession = () => {\n  return new Promise((resolve, reject) => {\n    const cognitoUser = createCognitoUser()\n    cognitoUser.getSession((err, result) => {\n      if (err || !result) {\n        reject(new Error('Failure getting Cognito session: ' + err))\n        return\n      }\n      // Resolve the promise with the session credentials\n      const session = {\n        credentials: {\n          accessToken: result.accessToken.jwtToken,\n          idToken: result.idToken.jwtToken,\n          refreshToken: result.refreshToken.token\n        },\n        user: {\n          userName: result.idToken.payload['cognito:username'],\n          email: result.idToken.payload.email\n        },\n        groups : result.idToken.payload['cognito:groups'],\n        isAdmin : result.idToken.payload['cognito:groups'] instanceof Array && result.idToken.payload['cognito:groups'].indexOf('Admin') !== -1,\n        expiration : result.accessToken.payload.exp\n      }\n      resolve(session)\n    })\n  })\n}\n\n// Sign out of the current session (will redirect to signout URI)\nconst signOutCognitoSession = () => {\n  clearSession();\n  const auth = createCognitoAuth()\n  auth.signOut()\n}\n\nexport default {\n  createCognitoAuth,\n  createCognitoUser,\n  createCognitoUserPool,\n  getCognitoSession,\n  getCognitoSignInUri,\n  parseCognitoWebResponse,\n  signOutCognitoSession,\n  initSessionFromCallbackURI,\n  initSession\n}","import React from 'react';\n\nexport const MainContainer = props =>{\n    return (\n        <header className=\"background rgba-black-strong\">\n            <div className=\"main-container\">\n       \n                    { props.children }\n              \n            </div>\n        </header>\n    )\n}","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTimesCircle } from '@fortawesome/free-solid-svg-icons'\n\nexport const FormCard = props =>{\n    return (\n        <div className=\"row\">\n            <div className=\"card mx-auto\">\n                <div  href=\"#\" ><FontAwesomeIcon  className=\"float-right card-close\" icon={faTimesCircle} size='2x' onClick={props.returnToIndex} /></div>\n                <div className=\"card-text\">\n                    { props.children }\n                </div>\n            </div>\n        </div>\n    )\n}","import React from 'react';\n\nexport const UserForm = props =>{\n    const addPhonePrefix = e =>\n    {   \n        e.persist();\n        const validKeys = [8, 37, 39];\n        if( validKeys.indexOf(e.keyCode) === -1 && (e.currentTarget.value.length > 11 || (!Number.isInteger(parseInt(e.key)))))\n        {\n            e.preventDefault();\n            return;\n        }\n        let currentValue = e.currentTarget.value;\n        let target = e.currentTarget;\n        let key = e.key;\n        setTimeout(function () {\n            if(target.value != '' && currentValue.indexOf('+1') !== 0) {\n                target.value = '+1' + key;\n            } \n        }, 1);\n    }\n    return (\n        <form className=\"row\" id={\"create-post-form\"} onSubmit={props.processFormSubmission} noValidate={true}>\n        <div className=\"form-group col-md-12\">\n                <label htmlFor=\"Username\"> User Name </label>\n                <input disabled={props.edit ? \"disabled\" : false} type=\"text\" id=\"Username\" defaultValue={ (props.edit && props.user.Username) || ''} onChange={(e) => props.handleInputChanges(e)} name=\"Username\" className=\"form-control\" placeholder=\"Enter a Username for the user\" />\n            </div>\n            <div className=\"form-group col-md-12\">\n                <label htmlFor=\"name\"> Name </label>\n                <input type=\"text\" id=\"name\" defaultValue={(props.edit && props.user.name) || ''} onChange={(e) => props.handleInputChanges(e)} name=\"name\" className=\"form-control\" placeholder=\"Enter user's first name\" />\n            </div>\n            <div className=\"form-group col-md-12\">\n                <label htmlFor=\"email\"> Email </label>\n                <input type=\"email\" id=\"email\" defaultValue={(props.edit && props.user.email) || ''} onChange={(e) => props.handleInputChanges(e)} name=\"email\" className=\"form-control\" placeholder=\"Enter user's email address\" />\n            </div>\n\n            <div className=\"form-group col-md-12\">\n                <label htmlFor=\"phone\"> Phone </label>\n                <input type=\"text\" id=\"phone_number\" defaultValue={(props.edit && props.user.phone_number) || ''} onKeyDown={(e)=> addPhonePrefix(e)} onChange={(e) => props.handleInputChanges(e)} name=\"phone_number\" className=\"form-control\" placeholder=\"+[d]1234567890\" />\n            </div>\n\n            <div className=\"form-group col-md-4 pull-right\">\n                <button className=\"btn btn-success\" type=\"submit\">\n                    {(props.edit) ? (\"Edit User\") : ( \"Add User\") }</button>\n                {props.loading &&\n                    <span className=\"fa fa-circle-o-notch fa-spin\" />\n                }\n            </div>\n        </form>)\n        ;\n}","import * as React from 'react';\nimport { connect } from 'react-redux'\nimport axios from 'axios';\nimport apiConfig from '../../config/api.js';\nimport { MainContainer } from './../layout/MainContainer';\nimport {FormCard} from './../layout/FormCard';\nimport {UserForm} from './UserForm';\n\nconst TITLE = 'Create User';\nconst mapStateToProps = state => {\n    return { session: state.session }\n  }\n\nclass CreateUser extends React.Component{\n    constructor(props ) {\n        super(props);\n        this.state = {\n            Username: '',\n            name: '',\n            email: '',\n            phone_number: '',\n            values: [],\n            loading: false,\n            submitSuccess: false,\n            submitFail: false,\n            errorMessage : null,\n            headers : {}\n        }\n    }\n\n    componentDidMount(){\n        if (this.props.session.isLoggedIn) {\n            const headers = { headers: { Authorization: `Bearer ${this.props.session.credentials.accessToken}`}};\n            this.setState({headers});\n        }\n    }\n\n    processFormSubmission = (e)=> {\n        e.preventDefault();\n        this.setState({ loading: true });\n\n        const formData = {\n            Username : this.state.Username,\n            name: this.state.name,\n            email: this.state.email,\n            phone_number: this.state.phone_number,\n        }\n\n        this.setState({ submitSuccess: true, values: [...this.state.values, formData], loading: false });\n\n        if (this.props.session.isLoggedIn) {\n            axios.post(apiConfig.host + apiConfig.port + `/api/user`, formData, this.state.headers).then(data => [\n            setTimeout(() => {\n                this.props.history.push('/user');\n            }, 1500)\n            ])\n            .catch(\n                error=>{\n                    this.setState({ submitSuccess: false, submitFail: true, errorMessage : error.response.data.message });\n\n                }\n            );\n        }\n    }\n\n    handleInputChanges = (e) => {\n        e.preventDefault();\n        this.setState({\n            [e.currentTarget.name]: e.currentTarget.value,\n        })\n    }\n\n    returnToIndex = e =>\n    {\n      this.props.history.push('/user');\n    }\n\n    render() {\n        const { submitSuccess, submitFail, loading, errorMessage } = this.state;\n        return (\n            <MainContainer>\n                <FormCard returnToIndex={this.returnToIndex}>\n                    <div className=\"col-md-12 \">\n                        <h2>{TITLE}</h2>\n                        {!submitSuccess && (\n                            <div className=\"alert alert-info\" role=\"alert\">\n                                Fill the form below to create a new post\n                        </div>\n                        )}\n\n                        {submitSuccess && (\n                            <div className=\"alert alert-info\" role=\"alert\">\n                                The form was successfully submitted!\n                                </div>\n                        )}\n\n                        {submitFail && (\n                            <div className=\"alert alert-info\" role=\"alert\">\n                                { errorMessage }\n                                </div>\n                        )}\n                        <UserForm user={this.state.user} handleInputChanges={this.handleInputChanges} loading={loading} processFormSubmission={this.processFormSubmission} />\n                    </div>\n                </FormCard>\n            </MainContainer>\n        )\n    }\n}\n\nexport default connect(mapStateToProps)(CreateUser)\n","import React from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faBowlingBall } from '@fortawesome/free-solid-svg-icons'\n\nexport default () => \n  <div className='spinner fadein'>\n    <FontAwesomeIcon icon={faBowlingBall} size='5x' color='#3B5998' />\n  </div>","import React from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTimesCircle } from '@fortawesome/free-solid-svg-icons'\n\nexport default props => \n  props.images.map((image, i) =>\n    <div key={i} className='fadein'>\n      <div \n        onClick={() => props.removeImage(image.public_id)} \n        className='delete'\n      >\n        <FontAwesomeIcon icon={faTimesCircle} size='2x' />\n      </div>\n      <img className=\"preview\" src={window.URL.createObjectURL(image)}  alt='' />\n    </div>\n  )","import React from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faImage } from '@fortawesome/free-solid-svg-icons'\n\nexport default props => \n  <div className='buttons fadein'>\n    <div className='button'>\n      <div><input type='file' id='single' onChange={props.onChange} /> </div>\n        <FontAwesomeIcon icon={faImage} color='#3B5998' size='10x' />\n    </div>\n  </div>","import React from 'react';\n\nexport const RecipeForm = props =>{\n    return (\n        <form className=\"row\" id=\"create-post-form\" onSubmit={props.processFormSubmission} noValidate={true}>\n        <div className=\"form-group col-md-12\">\n            <label htmlFor=\"rating\"> What would you rate this Recipe on a scale of 1-10?\n            <select value={props.recipe.rating} onChange={(e) => props.handleInputChanges(e)} id=\"rating\" name=\"rating\" className=\"form-control\">\n                <option value=\"1\">1</option>\n                <option value=\"2\">2</option>\n                <option value=\"3\">3</option>\n                <option value=\"4\">4</option>\n                <option value=\"5\">5</option>\n                <option value=\"6\">6</option>\n                <option value=\"7\">7</option>\n                <option value=\"8\">8</option>\n                <option value=\"9\">9</option>\n                <option value=\"10\">10</option>\n            </select>\n            </label>\n        </div>\n        <div className=\"form-group col-md-12\">\n        <label htmlFor=\"isPublic\"> Should this Recipe be Public to ALL logged-in Users?\n            <select value={props.recipe.isPublic} onChange={(e) => props.handleInputChanges(e)} id=\"isPublic\" name=\"isPublic\" className=\"form-control\">\n            <option value=\"0\">Private</option>\n            <option value=\"1\">Public</option>\n            </select>\n            </label>\n        </div>\n        <div className=\"form-group col-md-12\">\n            <label htmlFor=\"first_name\"> Name/Title </label>\n            <input type=\"text\" id=\"name\" defaultValue={props.recipe.name} onChange={(e) => props.handleInputChanges(e)} name=\"name\" className=\"form-control\" placeholder=\"Recipe Title\" />\n        </div>\n        <div className=\"form-group col-md-12\">\n            <label htmlFor=\"recipe\"> Recipe </label>\n            <textarea id=\"recipe\" defaultValue={props.recipe.recipe} onChange={(e) => props.handleInputChanges(e)} name=\"recipe\" className=\"form-control\" placeholder=\"Enter the Recipe Here!!\" />\n        </div>\n        { props.children && <div className=\"form-group col-md-12\">\n            { props.children }\n        </div>\n        }\n        <div className=\"form-group col-md-4 pull-right\">\n            <button className=\"btn btn-success\" type=\"submit\">\n            {(props.edit) ? (\"Edit Recipe\") : ( \"Add Recipe\") }\n            </button>\n        </div>\n    </form>\n    )\n}","import * as React from 'react';\nimport { connect } from 'react-redux'\nimport axios from 'axios';\nimport apiConfig from '../../config/api.js';\nimport Spinner from './../helpers/image/Spinner'\nimport Images from './../helpers/image/Images'\nimport Buttons from './../helpers/image/Buttons'\nimport { MainContainer } from './../layout/MainContainer';\nimport {FormCard} from './../layout/FormCard';\nimport { RecipeForm } from './RecipeForm';\n\n\nconst TITLE=\"Create Recipe\";\n\nconst mapStateToProps = state => {\n    return { session: state.session }\n  }\n\nclass Create extends React.Component{\n    constructor(props ) {\n        super(props);\n        this.state = {\n            rating: 5,\n            is_public : 0,\n            name: '',\n            submitted_by: '',\n            recipe: '',\n            values: [],\n            loading: false,\n            submitSuccess: false,\n            submitFail: false,\n            errorMessage : null,\n            images : [],\n            headers : {}\n        }\n    }\n\n    componentDidMount(){\n        if (this.props.session.isLoggedIn) {\n            const headers = { headers: { \n                Authorization: `Bearer ${this.props.session.credentials.accessToken}`,\n                'content-type': 'multipart/form-data'\n            }};\n            this.setState({headers});\n        } else {\n                this.props.history.push('/');\n        }\n    }\n    \n    processFormSubmission = (e)=> {\n        e.preventDefault();\n        this.setState({ loading: true });\n        const formData = new FormData();\n        formData.append('is_public', this.state.is_public);\n        formData.append('rating' , this.state.rating);\n        formData.append('name' , this.state.name);\n        formData.append( 'recipe', this.state.recipe);\n        formData.append('submitted_by' , this.props.session.user.userName);\n        this.state.images.forEach((file, i) => {\n            formData.append('photo', file)\n          })\n        this.setState({ submitSuccess: true, values: [...this.state.values, formData], loading: false });\n        if (this.props.session.isLoggedIn && this.props.session.isAdmin) {\n            axios.post(apiConfig.host + apiConfig.port + `/api/recipe`, formData, this.state.headers)\n            .then(data => [\n                setTimeout(() => {\n                    this.props.history.push('/recipe');\n                }, 1500)\n            ])\n            .catch(\n                error=>{\n                    this.setState({ submitSuccess: false, submitFail: true, errorMessage : error.response.data.message });\n                }\n            );\n        }\n    }\n\n    handleInputChanges = e => {\n        e.preventDefault();\n        this.setState({\n            [e.currentTarget.name]: e.currentTarget.value,\n        })\n    }\n\n    onChange = e => {\n        const files = Array.from(e.target.files)\n        this.setState({ uploading: false , images : files});\n    }\n    \n      removeImage = id => {\n        this.setState({\n          images: this.state.images.filter(image => image.public_id !== id)\n        })\n      }\n\n      returnToIndex = e =>\n      {\n        this.props.history.push('/recipe');\n      }\n\n    render() {\n        const { submitSuccess, submitFail, loading, errorMessage, uploading, images } = this.state;\n        const content = () => {\n            switch(true) {\n              case uploading:\n                return <Spinner />\n              case images.length > 0:\n                return <Images images={images} removeImage={this.removeImage} />\n              default:\n                return <Buttons onChange={this.onChange} />\n            }\n          }\n        return (\n            <MainContainer>\n                <FormCard returnToIndex={this.returnToIndex}>\n                    <div className=\"col-md-12 \">\n                        <h2>{TITLE}</h2>\n                        {!submitSuccess && (\n                        <div className=\"alert alert-info\" role=\"alert\">\n                            Fill the form below to create a new post\n                        </div>\n                        )}\n                        {submitSuccess && (\n                        <div className=\"alert alert-info\" role=\"alert\">\n                            The form was successfully submitted!\n                        </div>\n                        )}\n                        {submitFail && (\n                        <div className=\"alert alert-info\" role=\"alert\">\n                            { errorMessage }\n                        </div>\n                        )}               \n                        <RecipeForm recipe={this.state.recipe} handleInputChanges={this.handleInputChanges} processFormSubmission={this.processFormSubmission} loading={loading} >\n                            <div>\n                                <div className='buttons form-group col-md-12'>\n                                    {content()}\n                                </div>\n                            </div>\n                        </RecipeForm>\n                    </div>\n                </FormCard>\n            </MainContainer>\n        )\n    }\n}\n\nexport default connect(mapStateToProps)(Create)\n","import * as React from 'react';\nimport { connect } from 'react-redux'\nimport axios from 'axios';\nimport apiConfig from '../../config/api.js';\nimport { MainContainer } from './../layout/MainContainer';\nimport {FormCard} from './../layout/FormCard';\nimport { RecipeForm } from './RecipeForm';\n\nconst TITLE = \"Edit Recipe\";\nconst mapStateToProps = state => {\n    return { session: state.session }\n  }\n\nclass EditRecipe extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            id: this.props.match.params.id,\n            recipe: {},\n            values: [],\n            loading: false,\n            submitSuccess: false,\n            submitFail: false,\n            errorMessage : null,\n            headers : {}\n        }\n    }\n\n    componentDidMount() {\n        if (this.props.session.isLoggedIn) {\n            const headers = { headers: { Authorization: `Bearer ${this.props.session.credentials.accessToken}`}};\n            this.setState({headers});\n            axios.get(apiConfig.host + apiConfig.port + `/api/recipe/${this.state.id}`, headers).then(data => {\n                const recipe = data.data[0];\n                this.setState({ recipe});\n            })\n            .catch(error=>this.props.history.push('/recipe'));\n        }\n    }\n\n    processFormSubmission = async (e) => {\n        e.preventDefault();\n        this.setState({ loading: true });\n       \n        axios.put(apiConfig.host + apiConfig.port + `/api/recipe/${this.state.id}`, this.state.values, this.state.headers).then(data => {\n            this.setState({ submitSuccess: true, loading: false })\n            setTimeout(() => {\n                this.props.history.push('/recipe');\n            }, 1500)\n        })\n        .catch(\n            error=>{\n                this.setState({ submitSuccess: false, submitFail: true, errorMessage : error.response.data.message });\n            }\n        );\n    }\n\n    setValues = (values) => {\n        this.setState({ values: { ...this.state.values, ...values } });\n    }\n\n    handleInputChanges = (e) => {\n        e.preventDefault();\n        this.setValues({ [e.currentTarget.id]: e.currentTarget.value });\n        const recipe = this.state.recipe;\n        recipe[e.currentTarget.id] = e.currentTarget.value;\n        this.setState({recipe});\n    }\n\n    returnToIndex = e =>\n    {\n      this.props.history.push('/recipe');\n    }\n\n\n    render() {\n        const { submitSuccess, loading, submitFail, errorMessage  } = this.state;\n        return (\n            <MainContainer>\n                <FormCard returnToIndex={this.returnToIndex}>\n                    <div className=\"col-md-12 \">\n                        <h2>{ TITLE }</h2>\n                        {submitSuccess && (\n                            <div className=\"alert alert-info\" role=\"alert\">\n                                    Recipe details have been edited successfully </div>\n                        )}\n                        {submitFail && (\n                            <div className=\"alert alert-info\" role=\"alert\">\n                                    { errorMessage }\n                            </div>\n                        )} \n                    </div>\n                    <RecipeForm recipe={this.state.recipe} loading={loading}  handleInputChanges={this.handleInputChanges} processFormSubmission={this.processFormSubmission} edit=\"true\" />\n                </FormCard>\n                }\n            </MainContainer>\n        )\n    }\n}\n\nexport default connect(mapStateToProps)(EditRecipe)\n","import * as React from 'react';\nimport { connect } from 'react-redux'\nimport axios from 'axios';\nimport apiConfig from '../../config/api.js';\nimport { MainContainer } from './../layout/MainContainer';\nimport {FormCard} from './../layout/FormCard';\nimport {UserForm} from './UserForm';\n\nconst TITLE = 'Edit User';\nconst mapStateToProps = state => {\n    return { session: state.session }\n  }\n\nclass EditUser extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            id: this.props.match.params.id,\n            user: {},\n            values: [],\n            loading: false,\n            submitSuccess: false,\n            submitFail: false,\n            errorMessage : null,\n            headers : {}\n        }\n    }\n\n    componentDidMount() {\n        if (this.props.session.isLoggedIn) {\n            const headers = { headers: { Authorization: `Bearer ${this.props.session.credentials.accessToken}`}};\n            this.setState({headers});\n            axios.get(apiConfig.host + apiConfig.port + `/api/user/${this.state.id}`, headers).then(data => {\n                this.setState({ user: data.data });\n            })\n            .catch(error=>this.props.history.push('/user'));\n        }\n    }\n\n    processFormSubmission = async (e) => {\n        e.preventDefault();\n        this.setState({ loading: true });\n        axios.put(apiConfig.host + apiConfig.port + `/api/user/${this.state.id}`, this.state.values, this.state.headers).then(data => {\n            this.setState({ submitSuccess: true, loading: false })\n            setTimeout(() => {\n                this.props.history.push('/user');\n            }, 1500)\n        })\n        .catch(\n            error=>{\n                this.setState({ submitSuccess: false, submitFail: true, errorMessage : error.response.data.message });\n            }\n        );\n    }\n\n    setValues = (values) => {\n        this.setState({ values: { ...this.state.values, ...values } });\n    }\n\n    handleInputChanges = (e) => {\n        e.preventDefault();\n        this.setValues({ [e.currentTarget.id]: e.currentTarget.value })\n    }\n\n    returnToIndex = e =>\n    {\n      this.props.history.push('/user');\n    }\n\n    render() {\n        const { submitSuccess, loading, submitFail, errorMessage} = this.state;\n        return (\n           <MainContainer>\n                {this.state.user &&\n                <FormCard returnToIndex={this.returnToIndex}>\n                    <div className=\"col-md-12 \">\n                        <h2>{TITLE}</h2>\n                        {submitSuccess && (\n                            <div className=\"alert alert-info\" role=\"alert\">\n                                            user's details has been edited successfully \n                            </div>\n                        )}\n                        {submitFail && (\n                            <div className=\"alert alert-info\" role=\"alert\">\n                                { errorMessage }\n                            </div>\n                        )}\n                    <UserForm user={this.state.user} handleInputChanges={this.handleInputChanges} loading={loading} processFormSubmission={this.processFormSubmission} edit=\"true\"/>\n                    </div>\n                </FormCard>\n                }\n            </MainContainer>\n        )\n    }\n}\n\nexport default connect(mapStateToProps)(EditUser)\n","import React, { Component } from 'react'\nimport './Home.css'\nimport { connect } from 'react-redux'\nimport cognitoUtils from '../../lib/utils/cognito'\n//import { initSession } from '../../actions/session';\n\nconst mapStateToProps = state => {\n  return { session: state.session }\n}\n\nfunction mapDispatchToProps (dispatch) {\n  return {\n   // initSession: () => dispatch(initSession())\n  }\n}\n\nclass Home extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { apiStatus: 'Not called' }\n  }\n\n  componentDidMount () {\n    //this.props.initSession();\n    if (this.props.session.isLoggedIn) {\n    }\n  }\n\n  onSignOut = (e) => {\n    e.preventDefault()\n    cognitoUtils.signOutCognitoSession()\n  }\n\n  render () {\n    return (\n      <div className=\"Home\">\n        <header className=\"background home-background\">\n        <div className=\"intro container-fluid\">\n        Welcome to Bake n' Flake!\n          </div>\n          <img  className=\"Home-logo \" alt=\"logo\" src=\"https://umanage-mowatr.s3.amazonaws.com/bake_n_flake_logo_250_250.png\" />\n        </header>\n      </div>\n    )\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)","import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { initSessionFromCallbackURI } from '../../lib/utils/cognito';\n\nfunction mapStateToProps (state) {\n  return { session: state.session }\n}\nfunction mapDispatchToProps (dispatch) {\n  return {\n    initSessionFromCallbackURI: href => dispatch(initSessionFromCallbackURI(href))\n  }\n}\n\nclass Login extends Component {\n  // If a Cognito auth code is in the URL (could be a hash or query component), init the new session\n  componentDidMount () {\n    if (this.props.location.hash || this.props.location.search) {\n      this.props.initSessionFromCallbackURI(window.location.href)\n    }\n  }\n\n  render () {\n    // If there's no auth code in the URL or we're now logged into, redirect to the root page\n    if ((!this.props.location.hash && !this.props.location.search) || this.props.session.isLoggedIn) {\n      return <Redirect to=\"/\" />\n    }\n\n    return <div />\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport cognitoUtils from './../../lib/utils/cognito'\n\nconst onSignOut = (e) => {\n    e.preventDefault()\n    cognitoUtils.signOutCognitoSession()\n  }\n\nconst Navbar = props =>{\n    return (\n        <nav className=\"navbar navbar-expand-md navbar-dark\">\n          <a className=\"navbar-brand\" href=\"/\"><img src=\"https://umanage-mowatr.s3.amazonaws.com/bake_n_flake_logo_75_75.png\" alt=\"bake n flake bakery\" height=\"75\" width=\"75\"/></a>\n          <button type=\"button\" className=\"navbar-toggler\" data-toggle=\"collapse\" data-target=\"#navbarCollapse\">\n              <span className=\"navbar-toggler-icon\"></span>\n          </button>\n          <div className=\"collapse navbar-collapse\" id=\"navbarCollapse\">\n              <div className=\"navbar-nav\">\n                {props.session.isLoggedIn && props.session.isAdmin && \n                          <Link className=\"nav-link\" to={'/user'}>\n                          Users</Link>\n                      }\n                {(props.session.isLoggedIn ) &&\n                          <Link className=\"nav-link\" to={'/recipe'}>\n                          Recipes</Link>\n                      }\n              </div>\n              <div className=\"navbar-nav ml-auto\">\n              {props.session.isLoggedIn ? ( <span><span className=\"white-txt\">Hello {props.session.user.userName}&nbsp;&nbsp;</span><span><a className=\"Home-link\" href=\"#\" onClick={onSignOut}>Sign out</a> </span></span> ) \n              : (<a className=\"Home-link\" href={cognitoUtils.getCognitoSignInUri()}>Sign in</a>)}\n              </div>\n          </div>\n        </nav>\n    )\n}\nexport default Navbar;","import React, { Component } from 'react'\nimport './Home.css'\nimport { connect } from 'react-redux'\n\nclass Page404 extends Component {\n  componentDidMount () {\n  }\n  \n  render () {\n    return (\n      <div className=\"Home\">\n        <header className=\"Home-header\">\n          <p>404 Page Not Found</p>\n        </header>\n      </div>\n    )\n  }\n}\n\nexport default connect()(Page404)","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst PrivateRoute = ({ component: Component, roles, session, ...rest }) => (\n    <Route {...rest} render={props => {\n        if (!session.isLoggedIn) {\n            // not logged in so redirect to login page with the return url\n            return <Redirect to={{ pathname: '/', state: { from: props.location } }} />\n        }\n\n        // check if route is restricted by role\n        if (!session.isAdmin){\n            // role not authorised so redirect to home page\n            return <Redirect to={{ pathname: '/'}} />\n        }\n\n        // authorised so return component\n        return <Component {...props} />\n    }} />\n)\n\nexport default PrivateRoute;","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\nimport { faEdit } from '@fortawesome/free-solid-svg-icons';\n\nclass RecipeRow extends React.Component {\n    render(){\n        return (\n            <tr key={this.props.recipe.id}>\n                <td><a href=\"#\" onClick={() => this.props.viewRecipe(this.props.recipe.id)}>{this.props.recipe.name}</a></td>\n                <td>{this.props.recipe.submitted_by}</td>\n                <td>{this.props.recipe.rating}</td>\n                <td>{!this.props.recipe.isPublic || this.props.recipe.isPublic === \"0\" ? 'Yes' : 'No'}</td>\n                <td>\n                    <div className=\"d-flex justify-content-between align-items-center\">\n                        <div className=\"btn-group\" style={{ marginBottom: \"20px\" }}>\n                            { this.props.isAdmin && \n                            <span>\n                                <FontAwesomeIcon alt=\"edit user\" style={{ marginLeft:'.1em' , cursor:'pointer'}} size=\"2x\" icon={faEdit} onClick={() => this.props.editRecipe(this.props.recipe.id)} />\n                            </span>\n                            }\n                            { this.props.isAdmin && \n                            <span>\n                                <FontAwesomeIcon  alt=\"delete user\" style={{ marginLeft:'.5em', cursor:'pointer', color : 'red'}} size=\"2x\" icon={faTrash} onClick={() => this.props.deleteRecipe(this.props.recipe.id)} />\n                            </span>\n                            }\n                        </div>\n                    </div>\n                </td>\n            </tr>\n        )\n    }\n}\nexport default RecipeRow;","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport apiConfig from '../../config/api.js';\nimport { MainContainer } from './../layout/MainContainer';\nimport RecipeRow from './RecipeRow';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\n\n\nconst mapStateToProps = state => {\n    return { session: state.session }\n  }\n\nclass RecipeIndex extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { recipes: [], headers : {}, isAdmin : false }\n        this.deleteRecipe = this.deleteRecipe.bind(this);\n        this.editRecipe = this.editRecipe.bind(this);\n        this.viewRecipe = this.viewRecipe.bind(this);\n    }\n\n    componentDidMount(){\n        if (this.props.session.isLoggedIn) {\n            this.setState({ isAdmin : this.props.session.isAdmin });\n            const headers = { headers: { Authorization: `Bearer ${this.props.session.credentials.accessToken}`}};\n            this.setState({headers});\n            axios.get( apiConfig.host + apiConfig.port + `/api/recipe`, headers).then(data => {\n                data.data.sort((a,b) => (a.name > b.name) ? 1 : ((b.name > a.name) ? -1 : 0));\n                this.setState({ recipes: data.data })\n            });\n        }\n    }\n\n    deleteRecipe(id ) {\n        confirmAlert({\n            title: 'Confirm To Delete',\n            message: 'Are you sure you want to delete this recipe?',\n            buttons: [\n              {\n                label: 'Yes',\n                onClick: () => {\n                    axios.delete(apiConfig.host + apiConfig.port + `/api/recipe/${id}`, this.state.headers).then(data => {\n                        const index = this.state.recipes.findIndex(recipe => recipe.id === id);\n                        this.state.recipes.splice(index, 1);\n                        this.props.history.push('/recipe');\n                    })\n                }\n              },\n              {\n                label: 'No',\n                onClick: () => {}\n              }\n            ]\n          });\n    }\n\n    editRecipe(recipeId) {\n        this.props.history.push('/recipe/edit/' + recipeId);\n    }\n\n    viewRecipe(recipeId) {\n        this.props.history.push('/recipe/' + recipeId);\n    }\n\n    render() {\n        const recipes = this.state.recipes;\n        return (\n            <MainContainer>\n                <div className=\"row\">\n                    <div className=\"card mx-auto\">\n                        <div className=\"card-title\"><h2>Recipes\n                        { this.state.isAdmin &&  <Link to={'recipe/create'} className=\"btn btn-sm btn-outline-secondary float-right\"> Create New Recipe</Link>}\n                        </h2>\n                        </div> \n                        <div className=\"card-text\">\n                            <div className=\"table-responsive-lg\">\n                            <table className=\"table table-bordered table-striped w-auto\">\n                                <thead className=\"thead-light\">\n                                    <tr>\n                                        <th scope=\"col\">Name</th>\n                                        <th scope=\"col\">Author</th>\n                                        <th scope=\"col\">Rating</th>\n                                        <th scope=\"col\">Private?</th>\n                                        <th scope=\"col\">Actions</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {recipes && recipes.map(recipe =>\n                                        (this.state.isAdmin || recipe.isPublic) &&\n                                        <RecipeRow recipe={recipe} deleteRecipe={this.deleteRecipe} viewRecipe={this.viewRecipe} editRecipe={this.editRecipe} isAdmin={this.state.isAdmin} key={ recipe.id }/>\n                                    )}\n                                     {\n                                    (!recipes  || recipes .length === 0) && <td colspan=\"5\"><h3>No recipes found at the moment</h3></td>\n                                    } \n                                </tbody>\n                            </table>\n                            </div> \n                        </div>\n                    </div>\n                </div>\n            </MainContainer>\n          \n        )\n    }\n}\nexport default connect(mapStateToProps)(RecipeIndex)","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faStar } from '@fortawesome/free-solid-svg-icons'\n\nconst StarBar = props =>{\n    let content = [];\n    for (let i = 0; i < props.stars; i++) {\n       content.push(<FontAwesomeIcon  className=\"star\" icon={faStar} size='1x' key={i+1} />);\n    }\n    return (\n        content \n    )\n}\nexport default StarBar;","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport './Recipe.css'\nimport axios from 'axios';\nimport apiConfig from '../../config/api.js';\nimport { MainContainer } from './../layout/MainContainer';\nimport {FormCard} from './../layout/FormCard';\nimport StarBar from './../layout/StarBar';\n\nconst mapStateToProps = state => {\n    return { session: state.session }\n  }\n\nclass RecipeView extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { recipe: [], headers : {} }\n    }\n\n    componentDidMount(){\n        if (this.props.session.isLoggedIn) {\n            const headers = { headers: { Authorization: `Bearer ${this.props.session.credentials.accessToken}`}};\n            this.setState({headers});\n            axios.get( apiConfig.host + apiConfig.port + `/api/recipe/` + this.props.match.params.id, this.state.headers).then(data => {\n                ((!this.props.session.isAdmin && !data.data[0].isPublic) || data.data.length === 0) ? this.props.history.push('/recipe') : this.setState({ recipe: data.data[0] });\n            })\n            .catch(error=>this.props.history.push('/recipe'));\n        }\n        if(this.state.recipe === [])\n        {\n            this.props.history.push('/recipe');\n        }\n    }\n\n    returnToIndex = e =>\n    {\n      this.props.history.push('/recipe');\n    }\n\n    render() {\n        const recipe = this.state.recipe;\n        const pic = (recipe.picture  == null) ? 'no_photo.jpg' : recipe.picture;\n        return (\n            <MainContainer>\n                <FormCard returnToIndex={this.returnToIndex}>\n                    <div className=\"container\">\n\t\t\t\t        <div className=\"wrapper row\">\n                            <div className=\"preview col-md-6\">\n                                <div className=\"preview-pic tab-content\">\n                                    <div className=\"tab-pane active\" id=\"pic-1\"><img src={\"https://umanage-mowatr.s3.amazonaws.com/\" + pic } alt=\"recipe\" /></div>\n                                </div>\n                            </div>\n                            <div className=\"details col-md-6\">\n                                <h3 className=\"recipe-title\">{recipe.name}</h3>\n                                <h5 className=\"submitted-by\">By <span>{recipe.submitted_by}</span></h5>\n                                <h5 className=\"review-no\">Rated: {recipe.rating}/10 </h5>\n                                <div className=\"rating\">\n                                    <StarBar stars={recipe.rating} />\n                                </div>\n                                <h5 className=\"review-no\">Recipe:</h5>\n                                <p className=\"recipe-description\">{ recipe.recipe }</p>\n                            </div>\n                        </div>\n                    </div>\n                </FormCard>\n            </MainContainer>\n        )\n    }\n}\nexport default connect(mapStateToProps)(RecipeView)","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\nimport { faEdit } from '@fortawesome/free-solid-svg-icons';\n\nclass UserRow extends React.Component {\n    render(){\n        return (\n            <tr key={this.props.user.Username}>\n                <td className=\"w-25\">{this.props.user.Username}</td>\n                <td className=\"w-20\">{this.props.user.name}</td>\n                <td className=\"w-25\">{this.props.user.email}</td>\n                <td className=\"w-20\">{this.props.user.phone_number}</td>\n                <td className=\"w-10\">\n                <div className=\"d-flex justify-content-between align-items-center\">\n                <div className=\"btn-group\" style={{ marginBottom: \"20px\" }}>\n                        <span><FontAwesomeIcon alt=\"edit user\" style={{ marginLeft:'.1em' , cursor:'pointer'}} size=\"2x\" icon={faEdit} onClick={() => this.props.editUser(this.props.user.Username)} /></span>\n                        <span><FontAwesomeIcon  alt=\"delete user\" style={{ marginLeft:'.5em', cursor:'pointer', color : 'red'}} size=\"2x\" icon={faTrash} onClick={() => this.props.deleteUser(this.props.user.Username)}  /></span>\n                    </div>\n                </div>\n                </td>\n            </tr>\n        )\n    }\n}\nexport default UserRow;","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport apiConfig from '../../config/api.js';\nimport { MainContainer } from './../layout/MainContainer';\nimport UserRow from './UserRow';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\n\n\n\nconst mapStateToProps = state => {\n    return { session: state.session }\n  }\n\nclass UserIndex extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { users: [], headers : {} }\n        this.deleteUser = this.deleteUser.bind(this);\n        this.editUser = this.editUser.bind(this);\n\n        \n    }\n\n    componentDidMount(){\n        if (this.props.session.isLoggedIn) {\n            const headers = { headers: { Authorization: `Bearer ${this.props.session.credentials.accessToken}`}};\n            this.setState({ headers});\n            \n            axios.get( apiConfig.host + apiConfig.port + `/api/user`, headers).then(data => {\n                data.data.sort((a,b) => (a.Username > b.Username) ? 1 : ((b.Username > a.Username) ? -1 : 0));\n                this.setState({ users: data.data })\n            });\n        }\n    }\n\n    deleteUser(id ) {\n        confirmAlert({\n            title: 'Confirm To Delete',\n            message: 'Are you sure to do this.',\n            buttons: [\n              {\n                label: 'Yes',\n                onClick: () => {\n                    axios.delete(apiConfig.host + apiConfig.port + `/api/user/${id}`, this.state.headers).then(data => {\n                        const index = this.state.users.findIndex(user => user.id === id);\n                        this.state.users.splice(index, 1);\n                        this.props.history.push('/user');\n                    })\n                }\n              },\n              {\n                label: 'No',\n                onClick: () => {}\n              }\n            ]\n          });\n    }\n\n    editUser(uname) {\n        this.props.history.push('/user/edit/' + uname);\n    }\n\n    render() {\n        const users = this.state.users;\n        return (\n           <MainContainer>\n               <div className=\"row\">\n                    <div className=\"card mx-auto\">\n                        <div className=\"card-title\">\n                           <h2> <strong>Users</strong> <Link to={'user/create'} className=\"btn btn-sm btn-outline-secondary float-right\"> Create New User</Link></h2>\n                        </div>\n                        <div className=\"card-text\">\n                           \n                            <div className=\"table\">\n                                <table className=\"table table-bordered table-striped\">\n                                    <thead className=\"thead-light\">\n                                        <tr>\n                                            <th scope=\"col\">Username</th>\n                                            <th scope=\"col\">Full Name</th>\n                                            <th scope=\"col\">Email</th>\n                                            <th scope=\"col\">Phone</th>\n                                            <th scope=\"col\">Actions</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {users && users.map(user =>\n                                        <UserRow user={user} deleteUser={this.deleteUser} editUser={this.editUser} key={user.Username}></UserRow>\n                                        )} \n                                        {\n                                            (!users || users.length === 0) && <td colspan=\"5\"><h3>No users found at the moment</h3></td>\n                                        } \n                                    </tbody>\n                                </table>\n                            </div>\n                             \n                        </div>\n                    </div>\n                </div>\n            </MainContainer>\n        )\n    }\n}\nexport default connect(mapStateToProps)(UserIndex)","import { connect } from 'react-redux';\nimport { Switch, Route } from 'react-router-dom';\nimport { initSession } from './lib/utils/cognito';\nimport './App.css';\nimport * as React from 'react';\nimport CreateUser from './components/user/Create';\nimport CreateRecipe  from './components/recipe/Create';\nimport EditRecipe  from './components/recipe/Edit';\nimport EditUser from './components/user/Edit';\nimport Home from './components/home/Home';\nimport Login from './components/home/Login';\nimport Navbar from './components/layout/Navbar';\nimport Page404 from './components/home/Page404';\nimport PrivateRoute from './components/auth/PrivateRoute';\nimport RecipeIndex from './components/recipe/RecipeIndex';\nimport RecipeView from './components/recipe/View';\nimport UserIndex from './components/user/UserIndex';\n\n\nconst mapStateToProps = state => {\n    return { session: state.session }\n  }  \nfunction mapDispatchToProps (dispatch) {\n    return {\n      initSession: () => dispatch(initSession())\n    }\n  }\nclass App extends React.Component{\n\n  componentDidMount () {\n    this.props.initSession();\n  }\n\n  \n  render() {\n    return (\n      <div>\n        <Navbar session={this.props.session}  />\n        <Switch>\n          <Route path={'/'} exact component={Home} />\n          <Route path={'/login'} exact component={Login} />\n          <Route path={'/logout'} exact component={Home} />\n          <Route path={'/recipe'} exact component={RecipeIndex} />\n          <PrivateRoute  path={'/recipe/edit/:id'} exact component={EditRecipe} session={this.props.session} />\n          <PrivateRoute  path={'/recipe/create'} exact component={ CreateRecipe } session={this.props.session} />\n          <Route  path={'/recipe/:id'} exact component={RecipeView } />\n          <PrivateRoute path={'/user'} exact component={UserIndex} session={this.props.session} />\n          <PrivateRoute path={'/user/create'} exact component={CreateUser} session={this.props.session} />\n          <PrivateRoute path={'/user/edit/:id'} exact component={EditUser} session={this.props.session}  />\n          <Route component={Page404} />\n        </Switch>\n      </div>  \n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n//export default withRouter(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom'; \nimport * as serviceWorker from './serviceWorker';\nReactDOM.render(\n    <Provider store={store}>\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>\n    </Provider>\n    , document.getElementById('root')\n);\nserviceWorker.unregister();"],"sourceRoot":""}