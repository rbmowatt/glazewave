(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{1137:function(e,t,a){},1138:function(e,t,a){},1139:function(e,t,a){},1140:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(47),o=a.n(r),i=a(15),c=a(89),l=a(55),u=a.n(l);function m(){return u.a.get("x-token")&&u.a.remove("x-token"),!1}var d=function(){if(u.a.get("x-token")){var e=JSON.parse(u.a.get("x-token")),t=Date.now()/1e3;if(e.expiration>t)return e;m()}return!1}(),p=d||{isLoggedIn:!1,isAdmin:!1},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SESSION":return Object.assign({},t.session,{isLoggedIn:!0});case"CLEAR_SESSION":return p;default:return e}},f=[],g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;return t.type,e},v=a(16),b={selected:{},data:[]},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_BOARD":return Object(v.a)(Object(v.a)({},e),{selected:t.payload});case"SET_USER_BOARDS":return Object(v.a)(Object(v.a)({},e),{data:t.payload});case"USER_BOARD_CREATED":e.concat(t.payload);case"USER_BOARD_UPDATED":return Object(v.a)(Object(v.a)({},e),{selected:Object(v.a)(Object(v.a)({},e.selected),t.payload)});default:return e}},S=[],y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;return t.type,e},N={selected:{},data:[]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_SESSION":return Object(v.a)(Object(v.a)({},e),{selected:t.payload});case"USER_SESSION_CLEARED":return Object(v.a)(Object(v.a)({},e),{selected:{}});case"SET_USER_SESSIONS":return Object(v.a)(Object(v.a)({},e),{data:t.payload});case"SESSION_CREATED":return e.concat(t.payload);case"DELETE_USER_SESSION":return e.filter((function(e){return e.id!==t.payload}));case"USER_SESSION_UPDATED":return Object(v.a)(Object(v.a)({},e),{selected:Object(v.a)(Object(v.a)({},e.selected),t.payload)});default:return e}},_=a(9),I=a(11),j=a(10),w=a(375),C=a(13),T=a(19),k=a.n(T),A=a(14),x=a.n(A),D=a(90),U=function(){function e(t){var a=this;Object(_.a)(this,e),this.REQUEST_TYPE="BASE",this.get=function(e){var t=e.wheres,n=void 0===t?[]:t,s=e.withs,r=void 0===s?[]:s,o=e.limit,i=void 0===o?20:o,c=(e.page,e.label),l=void 0===c?"":c,u=e.orderBy,m=void 0===u?"":u,d=e.onSuccess,p=void 0===d?function(){}:d,h=e.onFailure,f=void 0===h?function(e){return a.onFailure(e)}:h;return a.apiAction({url:a.getEndpoint()+"?"+a.getWhereString(n)+"&"+a.getWithString(r)+"&limit="+i+"&order_by="+m,onSuccess:p,onFailure:f,label:a.getlabel(l,"GET")})},this.getOne=function(e){var t=e.id,n=void 0===t?null:t,s=e.withs,r=void 0===s?[]:s,o=e.label,i=void 0===o?"":o,c=e.onSuccess,l=void 0===c?function(){}:c,u=e.onFailure,m=void 0===u?function(e){return a.onFailure(e)}:u;return a.apiAction({url:a.getEndpoint()+"/"+n+"?"+a.getWithString(r),onSuccess:l,onFailure:m,label:i})},this.create_bk=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(v.a)(Object(v.a)({},a.session.headers),t);return k.a.post(a.getEndpoint(),e,n)},this.create=function(e){var t=e.data,n=void 0===t?{}:t,s=e.hdrs,r=void 0===s?{}:s,o=e.label,i=void 0===o?"":o,c=e.onSuccess,l=void 0===c?function(){}:c,u=e.onFailure,m=void 0===u?function(e){return a.onFailure(e)}:u;Object(v.a)(Object(v.a)({},a.session.headers),r);return a.apiAction({data:n,url:a.getEndpoint(),method:"POST",onSuccess:l,onFailure:m,label:i})},this.delete=function(e){var t=e.id,n=void 0===t?null:t,s=e.label,r=void 0===s?"":s,o=e.onSuccess,i=void 0===o?function(){}:o,c=e.onFailure,l=void 0===c?function(e){return a.onFailure(e)}:c;return a.apiAction({url:a.getEndpoint()+"/"+n,method:"DELETE",onSuccess:i,onFailure:l,label:r})},this.update=function(e){var t=e.id,n=void 0===t?null:t,s=e.label,r=void 0===s?"":s,o=e.data,i=void 0===o?{}:o,c=e.onSuccess,l=void 0===c?function(){}:c,u=e.onFailure,m=void 0===u?function(e){return a.onFailure(e)}:u;return a.apiAction({url:a.getEndpoint()+"/"+n,method:"PUT",onSuccess:l,onFailure:m,label:r,data:i})},this.getHost=function(){return x.a.host+x.a.port},this.getEndpoint=function(){return a.endpoint},this.getWithString=function(e){var t="";return e.forEach((function(e){t+="with[]=".concat(e,"&")})),t.slice(0,t.length-1)},this.getWhereString=function(e){return D.stringify(e)},this.onFailure=function(e){return console.log("error",e),{type:"API_FAILED"}},this.apiAction=function(e){var t=e.url,a=void 0===t?"":t,n=e.method,s=void 0===n?"GET":n,r=e.data,o=void 0===r?null:r,i=e.accessToken,c=void 0===i?null:i,l=e.onSuccess,u=void 0===l?function(){}:l,m=e.onFailure,d=void 0===m?function(){}:m,p=e.label,h=void 0===p?"":p,f=e.headersOverride;return{type:"API",payload:{url:a,method:s,data:o,accessToken:c,onSuccess:u,onFailure:d,label:h,headersOverride:void 0===f?null:f}}},this.session=t}return Object(C.a)(e,[{key:"getlabel",value:function(e,t){if(""===e)return t+"_"+this.REQUEST_TYPE}}]),e}();U.createFormRequest=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new FormData,a=0,n=Object.entries(e);a<n.length;a++){var s=Object(w.a)(n[a],2),r=s[0],o=s[1];t.append(r,o)}return t};var B=U,R=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).REQUEST_TYPE="USER_BOARD",n.getImages=function(e){return n.endpoint="/api/user_board/images",n.get(e)},n.createImages=function(e){return n.endpoint="/api/user_board/images",n.create(e)},n.deleteImage=function(e){return n.endpoint="/api/user_board/images",n.delete(e)},n.endpoint="/api/user_board",n}return a}(B),L=[],F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.payload;default:return e}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,a=e;switch(t.type){case"API_START":return a+1;case"API_END":return a=e-1;default:return a}},P=[],z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOARDS":return t.payload;default:return e}};a(112).config();var V="https://surfmemo.s3.amazonaws.com/",Y=[{id:1,original:"https://surfmemo.s3.amazonaws.com/4b371c1dcc76131241ffe613e30ea51f",thumbnail:"https://surfmemo.s3.amazonaws.com/4b371c1dcc76131241ffe613e30ea51f"}],W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SESSION_IMAGES":return t.payload.length>0?H(t.payload):e;case"SESSION_IMAGES_ADDED":return q(e).concat(H(t.payload));case"SESSION_IMAGE_DELETED":var a=e.filter((function(e){return e.id!==parseInt(t.payload.id)}));return a.length?a:Y;default:return e}},q=function(e){return e.filter((function(e){return 1!==e.id}))},H=function(e){var t=[];return e.forEach((function(e){t.push({id:e.id,original:V+e.name,thumbnail:V+e.name})})),t},G=[{id:1,original:"https://surfmemo.s3.amazonaws.com/4b371c1dcc76131241ffe613e30ea51f",thumbnail:"https://surfmemo.s3.amazonaws.com/4b371c1dcc76131241ffe613e30ea51f"}],K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_BOARD_IMAGES":return t.payload.length>0?J(t.payload):e;case"USER_BOARD_IMAGES_ADDED":return Q(e).concat(J(t.payload));case"USER_BOARD_IMAGE_DELETED":var a=e.filter((function(e){return e.id!==parseInt(t.payload.id)}));return a.length?a:G;default:return e}},Q=function(e){return e.filter((function(e){return 1!==e.id}))},J=function(e){var t=[];return e.forEach((function(e){t.push({id:e.id,original:V+e.name,thumbnail:V+e.name})})),t},X=[],Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SHAPERS":return t.payload;default:return e}},$=Object(c.c)({api:M,boards:z,session_images:W,shapers:Z,user_board:g,user_boards:E,user_board_images:K,user_session:y,user_sessions:O,session:h,user:F}),ee=a(360),te=a(34),ae=function(e){var t=e.dispatch;return function(e){return function(a){if(e(a),"API"===a.type){var n=a.payload,s=n.url,r=n.method,o=n.data,i=n.accessToken,c=n.onSuccess,l=n.onFailure,u=n.label,m=n.headers,d=["GET","DELETE"].includes(r)?"params":"data";k.a.defaults.baseURL=x.a.host+x.a.port||"",k.a.defaults.headers.common["Content-Type"]="application/json",k.a.defaults.headers.common.Authorization="Bearer ".concat(i),u&&t(function(e){return{type:"API_START",payload:e}}(u)),k.a.request(Object(te.a)({url:s,method:r,headers:m},d,o)).then((function(e){var a=e.data;t(c(a))})).catch((function(e){console.log("error",e),t(function(e){return{type:"API_ERROR",error:e}}(e)),t(l(e)),e.response&&403===e.response.status&&t(function(e){return{type:"ACCESS_DENIED",payload:{url:e}}}(window.location.pathname))})).finally((function(){u&&t(function(e){return{type:"API_END",payload:e}}(u))}))}}}};a(112).config();var ne=c.d,se=Object(c.e)($,ne(Object(c.a)(ee.a,ae))),re=(a(403),a(61)),oe=(a(404),a(30)),ie=a(361),ce=a(373),le=a(362);a(112).config();var ue={apiUrl:"https://zen-camino.com",region:"us-east-1",userPool:"us-east-1_7dmZzXWTs",clientId:"69mrmc3pptcr4sli93igf45gai",userPoolBaseUri:"https://umanage.auth.us-east-1.amazoncognito.com",callbackUri:"https://zen-camino.com/login",signoutUri:"https://zen-camino.com/logout",tokenScopes:["openid","email","profile"],apiUri:"https://zen-camino.com"},me=a(19);function de(e){return function(t){return ge(e).then((function(){return ve()})).then((function(e){!function(e){u.a.set("x-token",e)}(e),t({type:"SET_SESSION",session:e})}))}}le.config.region=ue.region;var pe=function(){var e=ue.userPoolBaseUri.replace("https://","").replace("http://","");return new ie.CognitoAuth({UserPoolId:ue.userPool,ClientId:ue.clientId,AppWebDomain:e,TokenScopesArray:ue.tokenScopes,RedirectUriSignIn:ue.callbackUri,RedirectUriSignOut:ue.signoutUri})},he=function(){return fe().getCurrentUser()},fe=function(){return new ce.a({UserPoolId:ue.userPool,ClientId:ue.clientId})},ge=function(e){return new Promise((function(t,a){var n=pe();n.userhandler={onSuccess:function(e){t(e)},onFailure:function(e){a(new Error("Failure parsing Cognito web response: "+e))}},n.parseCognitoWebResponse(e)}))},ve=function(){return new Promise((function(e,t){he().getSession((function(a,n){!a&&n?me.get(x.a.host+x.a.port+"/api/user?username="+n.idToken.payload["cognito:username"]).then((function(t){console.log("getting new session",t.data[0]);var a={credentials:{refreshToken:n.refreshToken.token},user:{userName:n.idToken.payload["cognito:username"],email:n.idToken.payload.email},headers:"Authorization: Bearer ".concat(n.accessToken.jwtToken),groups:n.idToken.payload["cognito:groups"],isAdmin:n.idToken.payload["cognito:groups"]instanceof Array&&-1!==n.idToken.payload["cognito:groups"].indexOf("Admin"),expiration:n.accessToken.payload.exp,isLoggedIn:!0};a.user=Object(v.a)(Object(v.a)({},a.user),t.data[0]),e(a)})):t(new Error("Failure getting Cognito session: "+a))}))}))},be=function(){return"".concat(ue.userPoolBaseUri,"/login?response_type=code&client_id=").concat(ue.clientId,"&redirect_uri=").concat(ue.callbackUri)},Ee=function(){m(),pe().signOut()},Se=function(e){e.preventDefault(),Ee()},ye=function(e){return s.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark"},s.a.createElement("button",{type:"button",className:"navbar-toggler","data-toggle":"collapse","data-target":"#navbarCollapse"},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarCollapse"},s.a.createElement("div",{className:"navbar-nav"},s.a.createElement("a",{className:"navbar-brand",href:"/"},s.a.createElement("img",{src:"https://umanage-mowatr.s3.amazonaws.com/bake_n_flake_logo.png",alt:"bake n flake bakery",height:"50",width:"50"})),e.session.isLoggedIn&&s.a.createElement(oe.b,{className:"nav-link",to:"/user/dashboard"},"My Memo"),e.session.isLoggedIn&&e.session.isAdmin&&s.a.createElement(oe.b,{className:"nav-link",to:"/user"},"Users"),e.session.isLoggedIn&&s.a.createElement(oe.b,{className:"nav-link",to:"/session"},"Sessions"),e.session.isLoggedIn&&s.a.createElement(oe.b,{className:"nav-link",to:"/board"},"Boards"),e.session.isLoggedIn&&s.a.createElement(oe.b,{className:"nav-link",to:"/location"},"Spots"),e.session.isLoggedIn&&s.a.createElement(oe.b,{className:"nav-link",to:"/manufacturer"},"Brands")),s.a.createElement("div",{className:"navbar-nav ml-auto"},e.session.isLoggedIn?s.a.createElement("span",null,s.a.createElement("span",{className:"white-txt"},"Hello ",e.session.user.userName,"\xa0\xa0"),s.a.createElement("span",null,s.a.createElement("a",{className:"Home-link",href:"#",onClick:Se},"Sign out")," ")):s.a.createElement("a",{className:"Home-link",href:be()},"Sign in"))))},Ne=a(376),Oe=function(e){var t=e.component,a=(e.roles,e.session),n=Object(Ne.a)(e,["component","roles","session"]);return s.a.createElement(re.b,Object.assign({},n,{render:function(e){return a.isLoggedIn?a.isAdmin?s.a.createElement(t,e):s.a.createElement(re.a,{to:{pathname:"/"}}):s.a.createElement(re.a,{to:{pathname:"/",state:{from:e.location}}})}}))},_e=(a(265),function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(){return Object(_.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return s.a.createElement("div",{className:"Home"},s.a.createElement("header",{className:"Home-header"},s.a.createElement("p",null,"404 Page Not Found")))}}]),a}(n.Component)),Ie=Object(i.b)()(_e);var je=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).onSignOut=function(e){e.preventDefault(),Ee()},n.state={apiStatus:"Not called"},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){this.props.session.isLoggedIn}},{key:"render",value:function(){return s.a.createElement("div",{className:"Home"},s.a.createElement("header",{className:"background home-background"},s.a.createElement("div",{className:"intro container-fluid"},"Welcome to MySurfSesh"),s.a.createElement("img",{className:"Home-logo ",alt:"logo",src:"https://umanage-mowatr.s3.amazonaws.com/bake_n_flake_logo_250_250.png"})))}}]),a}(n.Component),we=Object(i.b)((function(e){return{session:e.session}}),(function(e){return{}}))(je);var Ce=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(){return Object(_.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"componentDidMount",value:function(){(this.props.location.hash||this.props.location.search)&&this.props.initSessionFromCallbackURI(window.location.href)}},{key:"render",value:function(){return!this.props.location.hash&&!this.props.location.search||this.props.session.isLoggedIn?s.a.createElement(re.a,{to:"/"}):s.a.createElement("div",null)}}]),a}(n.Component),Te=Object(i.b)((function(e){return{session:e.session}}),(function(e){return{initSessionFromCallbackURI:function(t){return e(de(t))}}}))(Ce),ke=a(27),Ae=a(216),xe=a.n(Ae);var De=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(){return Object(_.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){return s.a.createElement("header",{className:"background rgba-black-strong"},s.a.createElement("div",{className:"container main-container "},s.a.createElement(xe.a,{loaded:0===this.props.api},this.props.children)))}}]),a}(s.a.Component),Ue=Object(i.b)((function(e){return{api:e.api}}))(De),Be=a(26),Re=a(24),Le=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(){return Object(_.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"row table-row",key:this.props.user.Username},s.a.createElement("div",{className:"col-2"},this.props.user.Username),s.a.createElement("div",{className:"col-3"},this.props.user.name),s.a.createElement("div",{className:"col-3"},this.props.user.email),s.a.createElement("div",{className:"col-3"},this.props.user.phone_number),s.a.createElement("div",{className:"col-1 recipe-details"},s.a.createElement("div",null,s.a.createElement(Be.a,{alt:"edit user",style:{marginLeft:".1em",cursor:"pointer"},icon:Re.b,onClick:function(){return e.props.editUser(e.props.user.Username)}}),s.a.createElement(Be.a,{alt:"delete user",style:{marginLeft:".5em",cursor:"pointer",color:"red"},icon:Re.f,onClick:function(){return e.props.deleteUser(e.props.user.Username)}}))))}}]),a}(s.a.Component),Fe=a(73),Me=(a(114),function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).state={users:[],headers:{}},n.deleteUser=n.deleteUser.bind(Object(ke.a)(n)),n.editUser=n.editUser.bind(Object(ke.a)(n)),n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.session.isLoggedIn&&k.a.get(x.a.host+x.a.port+"/api/user",this.props.session.headers).then((function(t){t.data.sort((function(e,t){return e.Username>t.Username?1:t.Username>e.Username?-1:0})),e.setState({users:t.data})}))}},{key:"deleteUser",value:function(e){var t=this;Object(Fe.confirmAlert)({title:"Confirm To Delete",message:"Are you sure to do this.",buttons:[{label:"Yes",onClick:function(){k.a.delete(x.a.host+x.a.port+"/api/user/".concat(e),t.props.session.headers).then((function(a){var n=t.state.users.findIndex((function(t){return t.Username===e}));t.state.users.splice(n,1),t.props.history.push("/user")}))}},{label:"No",onClick:function(){}}]})}},{key:"editUser",value:function(e){this.props.history.push("/user/edit/"+e)}},{key:"render",value:function(){var e=this,t=this.state.users;return s.a.createElement(Ue,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"card card-lg mx-auto"},s.a.createElement("div",{className:"card-title"},s.a.createElement("h2",null," ",s.a.createElement("strong",null,"Users")," ",s.a.createElement(oe.b,{to:"user/create",className:"btn btn-sm btn-outline-secondary float-right"}," Create New User"))),s.a.createElement("div",{className:"card-text"},s.a.createElement("div",{className:"table-container"},s.a.createElement("div",{className:"row table-header"},s.a.createElement("div",{className:"col-2"},"Login"),s.a.createElement("div",{className:"col-3"},"Full Name"),s.a.createElement("div",{className:"col-3"},"Email"),s.a.createElement("div",{className:"col-3"},"Phone"),s.a.createElement("div",{className:"col-1"},"\xa0")),t&&t.map((function(t){return s.a.createElement(Le,{user:t,deleteUser:e.deleteUser,editUser:e.editUser,key:t.Username})})),(!t||0===t.length)&&s.a.createElement("div",{className:"col-12"},s.a.createElement("h3",null,"No users found at the moment")))))))}}]),a}(n.Component)),Pe=Object(i.b)((function(e){return{session:e.session}}))(Me),ze=a(59),Ve=function(e){return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"card card-lg mx-auto"},s.a.createElement("div",{href:"#"},s.a.createElement(Be.a,{className:"float-right card-close",icon:Re.e,size:"2x",onClick:e.returnToIndex})),s.a.createElement("div",{className:"card-text"},e.children)))},Ye=function(e){return s.a.createElement("form",{className:"row",id:"create-post-form",onSubmit:e.processFormSubmission,noValidate:!0},s.a.createElement("div",{className:"form-group col-md-12"},s.a.createElement("label",{htmlFor:"Username"}," User Name "),s.a.createElement("input",{disabled:!!e.edit&&"disabled",type:"text",id:"Username",defaultValue:e.edit&&e.user.Username||"",onChange:function(t){return e.handleInputChanges(t)},name:"Username",className:"form-control",placeholder:"Enter a Username for the user"})),s.a.createElement("div",{className:"form-group col-md-12"},s.a.createElement("label",{htmlFor:"name"}," Name "),s.a.createElement("input",{type:"text",id:"name",defaultValue:e.edit&&e.user.name||"",onChange:function(t){return e.handleInputChanges(t)},name:"name",className:"form-control",placeholder:"Enter user's first name"})),s.a.createElement("div",{className:"form-group col-md-12"},s.a.createElement("label",{htmlFor:"email"}," Email "),s.a.createElement("input",{type:"email",id:"email",defaultValue:e.edit&&e.user.email||"",onChange:function(t){return e.handleInputChanges(t)},name:"email",className:"form-control",placeholder:"Enter user's email address"})),s.a.createElement("div",{className:"form-group col-md-12"},s.a.createElement("label",{htmlFor:"phone"}," Phone "),s.a.createElement("input",{type:"text",id:"phone_number",defaultValue:e.edit&&e.user.phone_number||"",onKeyDown:function(e){return function(e){e.persist();if(-1!==[8,37,39].indexOf(e.keyCode)||!(e.currentTarget.value.length>11)&&Number.isInteger(parseInt(e.key))){var t=e.currentTarget.value,a=e.currentTarget,n=e.key;setTimeout((function(){""!==a.value&&0!==t.indexOf("+1")&&(a.value="+1"+n)}),1)}else e.preventDefault()}(e)},onChange:function(t){return e.handleInputChanges(t)},name:"phone_number",className:"form-control",placeholder:"+[d]1234567890"})),s.a.createElement("div",{className:"form-group col-md-4 pull-right"},s.a.createElement("button",{className:"btn btn-success",type:"submit"},e.edit?"Edit User":"Add User"),e.loading&&s.a.createElement("span",{className:"fa fa-circle-o-notch fa-spin"})))},We=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).processFormSubmission=function(e){e.preventDefault(),n.setState({loading:!0});var t={Username:n.state.Username,name:n.state.name,email:n.state.email,phone_number:n.state.phone_number};n.setState({submitSuccess:!0,values:[].concat(Object(ze.a)(n.state.values),[t]),loading:!1}),n.props.session.isLoggedIn&&k.a.post(x.a.host+x.a.port+"/api/user",t,n.props.session.headers).then((function(e){return[setTimeout((function(){n.props.history.push("/user")}),1500)]})).catch((function(e){n.setState({submitSuccess:!1,submitFail:!0,errorMessage:e.response.data.message})}))},n.handleInputChanges=function(e){e.preventDefault(),n.setState(Object(te.a)({},e.currentTarget.name,e.currentTarget.value))},n.returnToIndex=function(e){n.props.history.push("/user")},n.state={Username:"",name:"",email:"",phone_number:"",values:[],loading:!1,submitSuccess:!1,submitFail:!1,errorMessage:null,headers:{}},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){this.props.session.isLoggedIn}},{key:"render",value:function(){var e=this.state,t=e.submitSuccess,a=e.submitFail,s=e.loading,r=e.errorMessage;return n.createElement(Ue,null,n.createElement(Ve,{returnToIndex:this.returnToIndex},n.createElement("div",{className:"col-md-12 "},n.createElement("h2",null,"Create User"),!t&&n.createElement("div",{className:"alert alert-info",role:"alert"},"Fill the form below to create a new post"),t&&n.createElement("div",{className:"alert alert-info",role:"alert"},"The form was successfully submitted!"),a&&n.createElement("div",{className:"alert alert-info",role:"alert"},r),n.createElement(Ye,{user:this.state.user,handleInputChanges:this.handleInputChanges,loading:s,processFormSubmission:this.processFormSubmission}))))}}]),a}(n.Component),qe=Object(i.b)((function(e){return{session:e.session}}))(We),He=a(49),Ge=a.n(He),Ke=a(74),Qe=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).processFormSubmission=function(){var e=Object(Ke.a)(Ge.a.mark((function e(t){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n.setState({loading:!0}),k.a.put(x.a.host+x.a.port+"/api/user/".concat(n.state.id),n.state.values,n.props.session.headers).then((function(e){n.setState({submitSuccess:!0,loading:!1}),setTimeout((function(){n.props.history.push("/user")}),1500)})).catch((function(e){n.setState({submitSuccess:!1,submitFail:!0,errorMessage:e.response.data.message})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.setValues=function(e){n.setState({values:Object(v.a)(Object(v.a)({},n.state.values),e)})},n.handleInputChanges=function(e){e.preventDefault(),n.setValues(Object(te.a)({},e.currentTarget.id,e.currentTarget.value))},n.returnToIndex=function(e){n.props.history.push("/user")},n.state={id:n.props.match.params.id,user:{},values:[],loading:!1,submitSuccess:!1,submitFail:!1,errorMessage:null,headers:{}},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.session.isLoggedIn&&k.a.get(x.a.host+x.a.port+"/api/user/".concat(this.state.id),this.props.session.headers).then((function(t){e.setState({user:t.data})})).catch((function(t){return e.props.history.push("/user")}))}},{key:"render",value:function(){var e=this.state,t=e.submitSuccess,a=e.loading,s=e.submitFail,r=e.errorMessage;return n.createElement(Ue,null,this.state.user&&n.createElement(Ve,{returnToIndex:this.returnToIndex},n.createElement("div",{className:"col-md-12 "},n.createElement("h2",null,"Edit User"),t&&n.createElement("div",{className:"alert alert-info",role:"alert"},"user's details has been edited successfully"),s&&n.createElement("div",{className:"alert alert-info",role:"alert"},r),n.createElement(Ye,{user:this.state.user,handleInputChanges:this.handleInputChanges,loading:a,processFormSubmission:this.processFormSubmission,edit:"true"}))))}}]),a}(n.Component),Je=Object(i.b)((function(e){return{session:e.session}}))(Qe),Xe=function(e){var t=[],a=e.size?e.size:"xs",n=function(t){console.log(t),e.onClick&&e.onClick({rating:t})};if(e.stars&&0!==e.stars){for(var r=function(e){t.push(s.a.createElement(Be.a,{className:"star",icon:Re.d,size:a,onClick:function(){n(e+1)},key:e+1}))},o=0;o<e.stars;o++)r(o);for(var i=function(e){t.push(s.a.createElement(Be.a,{className:"star-disabled",icon:Re.d,onClick:function(){n(e+1)},size:a,key:e+1}))},c=e.stars;c<10;c++)i(c)}else for(var l=function(e){t.push(s.a.createElement(Be.a,{className:"star-disabled",icon:Re.d,onClick:function(){n(e+1)},size:a,key:e+1}))},u=0;u<10;u++)l(u);return t},Ze=a(67),$e=a.n(Ze),et=Object(re.g)((function(e){return s.a.createElement("div",{className:e.className},s.a.createElement("div",{className:"col-md-12 session-card-title"},s.a.createElement("h5",null,s.a.createElement("a",{onClick:function(){return e.history.push("/session/"+e.session.id)}},e.session.title))),s.a.createElement("div",{className:"col-md-3"},s.a.createElement("img",{src:e.session.SessionImages&&e.session.SessionImages.length?V+e.session.SessionImages[0].name:"https://image.shutterstock.com/image-vector/please-no-photo-camera-vector-260nw-473234290.jpg"})),s.a.createElement("div",{className:"col-md-9"},s.a.createElement("div",{className:"col-md-12"},e.editSession&&s.a.createElement(Be.a,{size:"lg",alt:"edit user",style:{marginLeft:".1em",cursor:"pointer"},icon:Re.b,onClick:function(){return e.editSession(e.session.id)}}),e.deleteSession&&s.a.createElement(Be.a,{size:"lg",alt:"delete user",style:{marginLeft:".5em",cursor:"pointer",color:"red"},icon:Re.f,onClick:function(){return e.deleteSession(e.session.id)}})),s.a.createElement("div",{className:"col-md-12"},$e()(e.session.createdAt).calendar()),s.a.createElement("div",{className:"col-md-12"},s.a.createElement(Xe,{stars:e.session.rating})),s.a.createElement("div",{className:"col-md-12"},e.session.UserBoard&&e.session.UserBoard.name),s.a.createElement("div",{className:"col-md-12"},e.session.Location&&e.session.Location.name)))})),tt=Object(re.g)((function(e){return s.a.createElement("div",{className:e.className},s.a.createElement("div",{className:"col-md-12 board-card-title"},s.a.createElement("h5",null,s.a.createElement("a",{onClick:function(){return e.history.push("/board/"+e.board.id)}},e.board.name))),s.a.createElement("div",{className:"col-md-3"},s.a.createElement("img",{src:e.board.UserBoardImages&&e.board.UserBoardImages.length?V+e.board.UserBoardImages[0].name:"https://image.shutterstock.com/image-vector/please-no-photo-camera-vector-260nw-473234290.jpg"})),s.a.createElement("div",{className:"col-md-9"},s.a.createElement("div",{className:"col-md-12"},e.editBoard&&s.a.createElement(Be.a,{size:"lg",alt:"edit user",style:{marginLeft:".1em",cursor:"pointer"},icon:Re.b,onClick:function(){return e.editBoard(e.board.id)}}),e.deleteBoard&&s.a.createElement(Be.a,{size:"lg",alt:"delete user",style:{marginLeft:".5em",cursor:"pointer",color:"red"},icon:Re.f,onClick:function(){return e.deleteBoard(e.board.id)}})),s.a.createElement("div",null,s.a.createElement(Xe,{stars:e.board.rating})),s.a.createElement("div",null,e.board.size," ",e.board.Board&&e.board.Board.model)))})),at=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).REQUEST_TYPE="USER",n.updateProfileImage=function(e){return n.endpoint="/api/user/images",n.create(e)},n.endpoint="/api/user",n}return a}(B),nt=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).REQUEST_TYPE="SESSION",n.getImages=function(e){return n.endpoint="/api/session/images",n.get(e)},n.createImages=function(e){return n.endpoint="/api/session/images",n.create(e)},n.deleteImage=function(e){return n.endpoint="/api/session/images",n.delete(e)},n.endpoint="/api/session",n}return a}(B),st=function(e){return{type:"SET_USER_BOARDS",payload:e}},rt=(a(795),a(65)),ot=a.n(rt),it=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(_.a)(this,a),(e=t.call(this)).state={board_id:null,manufacturer_id:null,uploaderInstance:1},e.onDrop=e.onDrop.bind(Object(ke.a)(e)),e}return Object(C.a)(a,[{key:"onDrop",value:function(e,t){console.log("pic files",e.length);var a=at.createFormRequest({user_id:this.props.session.user.id});e.forEach((function(e,t){a.append("photo",e)})),this.props.addImages(new at(this.props.session),a)}},{key:"render",value:function(){var e=this.props.user,t=this.props.user.profile_img?V+this.props.user.profile_img:"https://www.bootdey.com/img/Content/avatar/avatar7.png";return s.a.createElement("div",{class:"container"},s.a.createElement("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css"}),s.a.createElement("div",{class:"team-single"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-4 col-md-5 xs-margin-30px-bottom"},s.a.createElement("div",{class:"team-single-img"},s.a.createElement("img",{src:t,alt:""})),s.a.createElement("div",{class:"bg-light-gray padding-30px-all md-padding-25px-all sm-padding-20px-all text-center"},s.a.createElement("h4",{class:"margin-10px-bottom font-size24 md-font-size22 sm-font-size20 font-weight-600"},e.username),s.a.createElement("p",{class:"sm-width-95 sm-margin-auto"},s.a.createElement(ot.a,{key:this.state.uploaderInstance,withIcon:!1,buttonText:"Update Photo",onChange:this.onDrop,imgExtension:[".jpg",".gif",".png",".gif"],maxFileSize:5242880,label:"",withPreview:!1,singleImage:!0})),s.a.createElement("div",{class:"margin-20px-top team-single-icons"},s.a.createElement("ul",{class:"no-margin"},s.a.createElement("li",null,s.a.createElement("a",{href:"javascript:void(0)"},s.a.createElement("i",{class:"fab fa-facebook-f"}))),s.a.createElement("li",null,s.a.createElement("a",{href:"javascript:void(0)"},s.a.createElement("i",{class:"fab fa-twitter"}))),s.a.createElement("li",null,s.a.createElement("a",{href:"javascript:void(0)"},s.a.createElement("i",{class:"fab fa-instagram"}))))))),s.a.createElement("div",{class:"col-lg-8 col-md-7"},s.a.createElement("div",{class:"team-single-text padding-50px-left sm-no-padding-left"},s.a.createElement("h4",{class:"font-size38 sm-font-size32 xs-font-size30"},e.first_name," ",e.last_name),s.a.createElement("p",{class:"no-margin-bottom"}),s.a.createElement("div",{class:"contact-info-section margin-40px-tb"},s.a.createElement("ul",{class:"list-style9 no-margin"},s.a.createElement("li",null,s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-5 col-5"},s.a.createElement("i",{class:"far fa-gem text-yellow"}),s.a.createElement("strong",{class:"margin-10px-left text-yellow"},"Member Since:")),s.a.createElement("div",{class:"col-md-7 col-7"},s.a.createElement("p",null,$e()(e.createdAt).format("YYYY-MM-DD HH:mm:ss"))))),s.a.createElement("li",null,s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-5 col-5"},s.a.createElement("i",{class:"fas fa-map-marker-alt text-green"}),s.a.createElement("strong",{class:"margin-10px-left text-green"},"Region:")),s.a.createElement("div",{class:"col-md-7 col-7"},s.a.createElement("p",null,"Regina ST, London, SK.")))),s.a.createElement("li",null,s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-5 col-5"},s.a.createElement("i",{class:"fas fa-envelope text-pink"}),s.a.createElement("strong",{class:"margin-10px-left xs-margin-four-left text-pink"},"Email:")),s.a.createElement("div",{class:"col-md-7 col-7"},s.a.createElement("p",null,s.a.createElement("a",{href:"javascript:void(0)"},e.email))))))),s.a.createElement("h5",{class:"font-size24 sm-font-size22 xs-font-size20"},"Professional Skills"),s.a.createElement("div",{class:"sm-no-margin"},s.a.createElement("div",{class:"progress-text"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-7"},"Positive Behaviors"),s.a.createElement("div",{class:"col-5 text-right"},"40%"))),s.a.createElement("div",{class:"custom-progress progress"},s.a.createElement("div",{role:"progressbar","aria-valuenow":"70","aria-valuemin":"0","aria-valuemax":"100",style:{width:"40%"},class:"animated custom-bar progress-bar slideInLeft bg-sky"}))))))))}}]),a}(s.a.Component),ct=Object(i.b)((function(e){return{user:e.session.user,session:e.session}}),(function(e){return{addImages:function(t,a){return e(t.updateProfileImage({data:a,onSuccess:function(e){return{type:"SESSION_IMAGE_UPDATED",payload:e}}}))}}}))(it),lt={user:["UserLocation"],boards:["Board","UserBoardImage"],sessions:["UserBoard","SessionImage","Location"]},ut=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(){return Object(_.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"componentDidMount",value:function(){this.props.session.isLoggedIn&&(this.props.loadUser(new at(this.props.session),this.props.session),this.props.loadBoards(new R(this.props.session),this.props.session),this.props.loadSessions(new nt(this.props.session),this.props.session))}},{key:"render",value:function(){var e=this.props,t=e.user_sessions,a=e.boards;e.locations;return n.createElement(Ue,null,n.createElement("div",{className:"row"},n.createElement("div",{className:"card card-lg mx-auto"},n.createElement("div",{className:"card-title"},n.createElement("h2",null," ",n.createElement("strong",null,"Users")," ",n.createElement(oe.b,{to:"user/create",className:"btn btn-sm btn-outline-secondary float-right"}," Create New User"))),n.createElement("div",{className:"card-text dashboard-boxes"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-2"},n.createElement("div",null,n.createElement(oe.b,{to:"/session/create",className:"btn btn-sm btn-outline-secondary"}," New Session")),n.createElement("div",null,n.createElement(oe.b,{to:"/board/create",className:"btn btn-sm btn-outline-secondary"},"New Board")),n.createElement("div",null,n.createElement("a",{className:"btn btn-sm btn-outline-secondary",href:"#"},"dddddd"))),n.createElement("div",{className:"col-md-10 row"},n.createElement("div",{className:"col-md-12"},n.createElement(ct,null)),n.createElement("div",{className:"col-md-6"},"Sessions",t&&t.reduce((function(e,t,a){return a<3&&e.push(n.createElement("div",{key:t.id,className:"card row"},n.createElement(et,{session:t,key:t.id,className:"row col-md-12"}))),e}),[])),n.createElement("div",{className:"col-md-6"},"Boards",a&&a.reduce((function(e,t,a){return a<3&&e.push(n.createElement("div",{key:t.id,className:"card row"},n.createElement(tt,{board:t,key:t.id,className:"row col-md-12"}))),e}),[]))))))))}}]),a}(n.Component),mt=Object(i.b)((function(e){return{session:e.session,boards:e.user_boards.data,user_sessions:e.user_sessions.data,locations:e.user.UserLocations}}),(function(e){return{loadUser:function(t,a){return e(t.getOne({id:a.user.id,withs:lt.user,onSuccess:function(e){return function(e){return{type:"SET_USER",payload:e}}(e)}}))},loadBoards:function(t,a){return e(t.get({wheres:{user_id:a.user.id},withs:lt.boards,onSuccess:function(e){return st(e)}}))},loadSessions:function(t,a){return e(t.get({wheres:{user_id:a.user.id},withs:lt.sessions,onSuccess:function(e){return function(e){return{type:"SET_USER_SESSIONS",payload:e}}(e)}}))}}}))(ut),dt=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).state={sessions:[],headers:{},isAdmin:!1},n.deleteSession=n.deleteSession.bind(Object(ke.a)(n)),n.editSession=n.editSession.bind(Object(ke.a)(n)),n.viewSession=n.viewSession.bind(Object(ke.a)(n)),n.sessionRequest=new nt(n.props.session),n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){this.props.session.isLoggedIn&&(this.setState({isAdmin:this.props.session.isAdmin}),this.props.loadSessions(this.sessionRequest,this.props.session))}},{key:"deleteSession",value:function(e){var t=this;Object(Fe.confirmAlert)({title:"Confirm To Delete",message:"Are you sure you want to delete this session?",buttons:[{label:"Yes",onClick:function(){t.props.deleteSession(t.sessionRequest,e)}},{label:"No",onClick:function(){}}]})}},{key:"editSession",value:function(e){this.props.history.push("/session/edit/"+e)}},{key:"viewSession",value:function(e){this.props.history.push("/session/"+e)}},{key:"render",value:function(){var e=this,t=this.props.sessions;return s.a.createElement(Ue,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"card card-lg mx-auto"},s.a.createElement("div",{className:"card-title"},s.a.createElement("h2",null,"Sessions",s.a.createElement(oe.b,{to:"session/create",className:"btn btn-sm btn-outline-secondary float-right"}," Create New Session"))),s.a.createElement("div",{className:"card-text"},s.a.createElement("div",{className:"table-container"},s.a.createElement("div",{className:"row col-md-12"},t&&t.map((function(t){return s.a.createElement(et,{session:t,key:t.id,className:"col-md-3",deleteSession:e.deleteSession,viewSession:e.viewSession,editSession:e.editSession})})),(!t||0===t.length)&&s.a.createElement("div",{className:"col-12"},s.a.createElement("h3",null,"No sessionS found at the moment"))))))))}}]),a}(n.Component),pt=Object(i.b)((function(e){return{session:e.session,sessions:e.user_sessions.data,api:e.api}}),(function(e){return{loadSessions:function(t,a){return e(t.get({orderBy:"created_at_DESC",wheres:{user_id:a.user.id},withs:["UserBoard","Location","SessionImage"],onSuccess:function(e){return{type:"SET_USER_SESSIONS",payload:e}}}))},deleteSession:function(t,a){return e(t.delete({id:a,onSuccess:function(e){return{type:"DELETE_USER_SESSION",payload:a}}}))}}}))(dt),ht=function(e){var t=e.handleClose,a=e.show,s=e.children,r=a?"modal display-block":"modal display-none";return n.createElement("div",{className:r},n.createElement("section",{className:"modal-main"},s,n.createElement("button",{onClick:t},"Close")))},ft=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).REQUEST_TYPE="BOARD",n.endpoint="/api/board",n}return a}(B),gt=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).REQUEST_TYPE="MANUFACTURER",n.endpoint="/api/manufacturer",n}return a}(B),vt=a(50),bt=a(43),Et=a(363),St=a.n(Et),yt=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).onChange=function(e,t){var a=t.newValue;console.log("key",a),n.state.value!==a&&n.setState({value:a})},n.onBlur=function(e){n.state.value&&console.log("blur",e.target.value);var t=n.props.entity.find((function(t){return t[n.props.keyName]===e.target.value}));n.props.setValue(n.props.name,t?t.id:e.target.value)},n.getSuggestionValue=function(e){return e[n.props.keyName]},n.renderSuggestion=function(e){return s.a.createElement("div",null,e[n.props.keyName])},n.onSuggestionsFetchRequested=function(e){var t=e.value,a=e.reason;n.setState({suggestions:n.props.getSuggestions(t,a)})},n.onSuggestionsClearRequested=function(){n.setState({suggestions:[]})},n.onSuggestionSelected=function(e,t){var a=t.suggestion;t.suggestionValue,t.suggestionIndex,t.sectionIndex,t.method;console.log(e.target),n.props.setValue(n.props.name,a.id)},n.shouldRenderSuggestions=function(e){return!0},n.state={value:e.value||"",suggestions:e.entity},n}return Object(C.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.fieldProps,n=t.fieldState,r=t.id,o=t.name,i=t.label,c=t.hint,l=this.state,u=l.value,m=l.suggestions,d=n.touched,p=n.pristine,h=n.required,f=n.validating,g=n.validatedSync,b=n.validatedAsync,E=n.valid,S=n.validSync,y=n.validAsync,N=n.invalid,O=n.errors,_=["form-control",d&&"is-touched",p&&"is-pristine",f&&"is-validating",g&&"validated-sync",b&&"validated-async",E&&"is-valid",S&&"valid-sync",y&&"valid-async",N&&"is-invalid","sc-EHOje fVJbnH"].filter(Boolean).join(" "),I=Object(v.a)(Object(v.a)({},a),{},{value:u,onBlur:this.onBlur,onChange:this.onChange,onFocus:function(){return e.onSuggestionsFetchRequested({value:o,reason:"type_ahead_focused"})},id:o,name:o,className:_,autoComplete:"off"}),j=this.props.display?"sc-bxivhb eTopIC":"sc-bxivhb eTopIC d-none";return s.a.createElement("div",{className:j},i&&s.a.createElement("label",{className:"sc-bwzfXH dybocD",htmlFor:r||o},i,h&&" *"),s.a.createElement("div",{className:"sc-ifAKCX fatWUN"},s.a.createElement(St.a,{suggestions:m,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,inputProps:I,onSuggestionSelected:this.onSuggestionSelected,onSuggestionsClearRequested:this.onSuggestionsClearRequested,shouldRenderSuggestions:this.shouldRenderSuggestions})),c&&s.a.createElement("small",{className:"form-text text-muted"},c),O&&O.map((function(e,t){return s.a.createElement("div",{key:t,className:"invalid-feedback"},e)})))}}]),a}(s.a.Component),Nt=Object(vt.createField)(vt.fieldPresets.input)(yt),Ot={name:{title:{matches:function(e){e.value,e.get;return!0}}}},_t={generic:{missing:"Please provide the required field",invalid:"The value you have provided is invalid"},name:{title:{missing:"Please Provide a Name for the session",rule:{matches:"The passwords do not match"}},board_id:{missing:"Please Choose or Add A Board Model",rule:{matches:"The passwords do not match"}}}},It=["4'6","4'7","4'8","4'9","4'10","4'11","5'0","5'1","5'2","5'3","5'4","5'5","5'6","5'7","5'8","5'9","5'10","5'11","6'0","6'1","6'2","6'3","6'4","6'5","6'6","6'7","6'8","6'9","6'10","6'11","7'0","7'1","7'2","7'3","7'4","7'5","7'6","7'7","7'8","7'9","7'10","7'11","8'0","8'1","8'2","8'3","8'4","8'5","8'6","8'7","8'8","8'9","8'10","8'11","9'0","9'1","9'2","9'3","9'4","9'5","9'6","9'7","9'8","9'9","9'10","9'11","10'0","10'1","10'2","10'3","10'4","10'5","10'6","10'7","10'8","10'9","10'10","10'11","11'0","11'1","11'2","11'3","11'4","11'5","11'6","11'7","11'8","11'9","11'10","11'11","12'0","12'1","12'2","12'3","12'4","12'5","12'6","12'7","12'8","12'9","12'10","12'11"],jt=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(_.a)(this,a),(e=t.call(this)).onChange=function(t,a){console.log("new val",a);var n=[];n[t]=a,e.setState(Object(v.a)({},n)),console.log("state",e.state)},e.getBoardSuggestions=function(t){if(!t)return e.props.boards.filter((function(t){return t.manufacturer_id===e.state.manufacturer_id}));var a=t.trim().toLowerCase(),n=a.length;return 0===n?[]:e.props.boards.filter((function(t){return t.model.toLowerCase().slice(0,n)===a&&t.manufacturer_id===e.state.manufacturer_id}))},e.getShaperSuggestions=function(t){if(!t)return e.props.shapers;var a=t.trim().toLowerCase(),n=a.length;return 0===n?[]:e.props.shapers.filter((function(e){return e.name.toLowerCase().slice(0,n)===a}))},e.state={board_id:null,manufacturer_id:null},e}return Object(C.a)(a,[{key:"componentDidMount",value:function(){this.props.session.isLoggedIn?(this.props.boards.length||this.props.loadBoards(new ft(this.props.session),this.props.session),this.props.loadShapers(new gt(this.props.session),this.props.session)):this.props.history.push("/")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"col-md-12"},s.a.createElement(vt.Form,{action:function(t){var a=t.serialized,n=t.fields,s=t.form;return e.props.processFormSubmission({session:e.props.session,serialized:a,fields:n,form:s})},rules:Ot,messages:_t,className:"col-md-12 row"},s.a.createElement("div",{className:"col-md-8 "},s.a.createElement(bt.Input,{name:"name",label:"What do you like to call this board?",className:"form-control",required:!0}),s.a.createElement(Nt,{entity:this.props.shapers,name:"manufacturer_id",keyName:"name",label:"choose a shaper",className:"form-control",placeholder:"Unknown",value:this.state.manufacturer_id,setValue:this.onChange,getSuggestions:this.getShaperSuggestions,display:!0,required:!0}),s.a.createElement(Nt,{entity:this.props.boards,name:"board_id",keyName:"model",label:"choose a model",className:"form-control",placeholder:"choose a board",value:this.state.board_id,setValue:this.onChange,getSuggestions:this.getBoardSuggestions,display:null!==this.state.manufacturer_id,required:!0}),s.a.createElement(bt.Select,{name:"size",label:"Choose A Size"},s.a.createElement("option",{value:""},"No size Selected"),It.map((function(e){return s.a.createElement("option",{key:e,prop:e,value:e},e)}))),s.a.createElement(bt.Select,{name:"rating",label:"What would you rate this Board on a scale of 1-10?"},Object(ze.a)(Array(11).keys()).map((function(e,t){if(0!==e)return s.a.createElement("option",{key:t,value:e},e)}))),s.a.createElement(bt.Select,{name:"is_public",label:"Should this Board be Public to ALL logged-in Users?"},s.a.createElement("option",{value:"0"},"Private"),s.a.createElement("option",{value:"1"},"Public")),s.a.createElement(bt.Textarea,{name:"notes",label:"Notes"}),this.props.children),s.a.createElement("div",{className:"col-md-4"},s.a.createElement(ot.a,{withIcon:!1,buttonText:"Choose images",onChange:this.props.onDrop,imgExtension:[".jpg",".gif",".png",".gif"],maxFileSize:5242880,withPreview:!0})),s.a.createElement("div",{className:"col-md-12"},s.a.createElement(bt.Input,{type:"hidden",name:"user_id",value:this.props.session.user.id}),s.a.createElement(bt.Button,{type:"submit"},"  ",this.props.edit?"Edit Board":"Add Board"))))}}]),a}(s.a.Component),wt=Object(i.b)((function(e){return{session:e.session,boards:e.boards,shapers:e.shapers}}),(function(e){return{loadShapers:function(t,a){return e(t.get({label:"LOAD_SHAPERS",limit:1e3,withs:["Board"],onSuccess:function(e){return{type:"SET_SHAPERS",payload:e}}}))},loadBoards:function(t,a){return e(t.get({label:"LOAD_BOARDS",limit:1e3,withs:["Manufacturer"],onSuccess:function(e){return{type:"SET_BOARDS",payload:e}}}))}}}))(jt),Ct=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).processFormSubmission=function(e){var t=e.serialized,a=(e.fields,e.form,n.props),s=a.session,r=a.createUserBoard,o=n.state.images;return new Promise((function(e,a){if(s.isLoggedIn){var n=R.createFormRequest(t);o.forEach((function(e,t){n.append("photo",e)})),r(new R(s),n),e(n)}else a("user not logged in ")}))},n.handleInputChanges=function(e){e.preventDefault(),n.setState(Object(te.a)({},e.currentTarget.name,e.currentTarget.value))},n.returnToIndex=function(e){n.props.history.push("/board")},n.state={submitSuccess:!1,submitFail:!1,errorMessage:null,images:[]},n.onDrop=n.onDrop.bind(Object(ke.a)(n)),n}return Object(C.a)(a,[{key:"onDrop",value:function(e,t){this.setState({images:this.state.images.concat(e)})}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;this.props.noUpdate||e.user_boards.length!==this.props.user_boards.length&&(this.setState({submitSuccess:!0}),this.props.loadBoards(new R(this.props.session),this.props.session),setTimeout((function(){n.props.history.push("/board")}),1500))}},{key:"componentDidMount",value:function(){this.props.session.isLoggedIn||this.props.history.push("/")}},{key:"render",value:function(){var e=this.state,t=e.submitSuccess,a=e.submitFail,s=e.loading,r=e.errorMessage;e.uploading,e.images;return n.createElement(Ve,{returnToIndex:this.returnToIndex},n.createElement("div",{className:"col-md-12 "},n.createElement("h2",null,"Create Board"),!t&&n.createElement("div",{className:"alert alert-info",role:"alert"},"Fill the form below to create a new post"),t&&n.createElement("div",{className:"alert alert-info",role:"alert"},"The form was successfully submitted!"),a&&n.createElement("div",{className:"alert alert-info",role:"alert"},r),n.createElement(wt,{board:this.state.board,handleInputChanges:this.handleInputChanges,processFormSubmission:this.processFormSubmission,loading:s,onDrop:this.onDrop})))}}]),a}(n.Component),Tt=Object(i.b)((function(e){return{session:e.session,user_boards:e.user_boards}}),(function(e){return{createUserBoard:function(t,a){return e(t.create({label:"CREATE_USER_BOARD",data:a,onSuccess:function(e){return{type:"USER_BOARD_CREATED",payload:e}}}))},loadBoards:function(t,a){return e(t.get({label:"LOAD_USER_BOARDS",wheres:{user_id:a.user.id},withs:["Board.Manufacturer","UserBoardImage"],onSuccess:function(e){return{type:"SET_USER_BOARDS",payload:e}}}))}}}))(Object(re.g)(Ct)),kt=a(364),At=a.n(kt),xt=a(374),Dt=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(_.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={search:"",value:"",location_id:"",is_editing:!1},e.handleInputChange=function(t){e.setState({search:t.target.value,value:t.target.value,is_editing:!0})},e.handleSelectSuggest=function(t,a){console.log(t,a),e.setState({search:"",value:t.formatted_address,location_id:t.place_id}),e.props.onChange("location_id",t.place_id),e.setState({is_editing:!1})},e.handleNoResult=function(){console.log("No results for ",e.state.search)},e.handleStatusUpdate=function(e){console.log("key status is",e)},e.onBlur=function(t){e.state.is_editing&&(console.log("blur",t),e.setState({value:"",is_editing:!1}))},e.locRender=function(e){return console.log(e.types),-1!==e.types.indexOf("route")?e.description:null},e}return Object(C.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.search,n=t.value,r=(t.location_id,this.props),o=r.fieldProps,i=r.fieldState,c=r.id,l=r.name,u=r.label,m=r.hint,d=i.touched,p=i.pristine,h=i.required,f=i.validating,g=i.validatedSync,b=i.validatedAsync,E=i.valid,S=i.validSync,y=i.validAsync,N=i.invalid,O=i.errors,_=["form-control",d&&"is-touched",p&&"is-pristine",f&&"is-validating",g&&"validated-sync",b&&"validated-async",E&&"is-valid",S&&"valid-sync",y&&"valid-async",N&&"is-invalid","google-locations-input","sc-EHOje fVJbnH"].filter(Boolean).join(" "),I=Object(v.a)(Object(v.a)({},o),{},{className:_,autoComplete:"off"}),j=this.props.display?"sc-bxivhb eTopIC d-none":"sc-bxivhb eTopIC";return s.a.createElement("div",{className:j},u&&s.a.createElement("label",{className:"sc-bwzfXH dybocD",htmlFor:c||l},u,h&&" *"),s.a.createElement("div",{className:"sc-ifAKCX"},s.a.createElement(At.a,{params:{key:"AIzaSyBaaD_720jqJaoIBsQib_N79Q5_iciLRBc",libraries:"places,geocode"},render:function(t){return t&&s.a.createElement(xt.a,{googleMaps:t,autocompletionRequest:{input:a},onNoResult:e.handleNoResult,onSelectSuggest:e.handleSelectSuggest,onStatusUpdate:e.handleStatusUpdate,textNoResults:"My custom no results text",customRender:function(t){return s.a.createElement("div",{className:"customWrapper"},e.locRender(t))}},s.a.createElement("input",Object.assign({},I,{type:"text",autoComplete:"off",value:n,onBlur:e.onBlur,onChange:e.handleInputChange})))}})),m&&s.a.createElement("small",{className:"form-text text-muted"},m),O&&O.map((function(e,t){return s.a.createElement("div",{key:t,className:"invalid-feedback"},e)})))}}]),a}(n.Component),Ut=Object(vt.createField)(vt.fieldPresets.input)(Dt),Bt={name:{title:{matches:function(e){e.value,e.get;return!0}}}},Rt={generic:{missing:"Please provide the required field",invalid:"The value you have provided is invalid"},name:{title:{missing:"Please Provide a Name for the session",rule:{matches:"The passwords do not match"}}}},Lt=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).onChange=function(e,t){var a=[];a[e]=t,n.setState(Object(v.a)({},a))},n.showModal=function(){n.setState({show:!0})},n.hideModal=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&e.preventDefault(),n.setState({show:!1})},n.defaultName=$e()().format("MMMM D YYYY, h:mm a"),n.state={show:!1,pictures:e.pictures,location_id:""},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){this.props.session.isLoggedIn&&(this.props.boards.length||this.props.loadBoards(new R(this.props.session),this.props.session))}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;e.boards.length!==this.props.boards.length&&setTimeout((function(){n.hideModal()}),1500)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"col-md-12"},s.a.createElement(vt.Form,{action:function(t){var a=t.serialized,n=t.fields,s=t.form;return e.props.processFormSubmission({session:e.props.session,serialized:a,fields:n,form:s})},rules:Bt,messages:Rt,className:"col-md-12 row"},s.a.createElement("div",{className:"col-md-8 "},s.a.createElement(bt.Input,{name:"title",label:"Session Name",className:"form-control",initialValue:this.defaultName,required:!0}),s.a.createElement(Ut,{id:"location_id",name:"location_id",label:"Where You paddling Out?",className:"form-control",onChange:this.onChange,value:this.state.location_id}),s.a.createElement(bt.Select,{name:"board_id",label:"Which Board Did You Use?"},this.props.boards.map((function(e){return s.a.createElement("option",{key:e.id,prop:e.name,value:e.id},e.name)}))),s.a.createElement(bt.Button,{type:"button",onClick:this.showModal},"Add A Board"),s.a.createElement(bt.Select,{name:"rating",label:"What would you rate this Session on a scale of 1-10?"},Object(ze.a)(Array(11).keys()).map((function(e,t){if(0!==e)return s.a.createElement("option",{key:t,value:e},e)}))),s.a.createElement(bt.Select,{name:"is_public",label:"Should this Session be Public to ALL logged-in Users?"},s.a.createElement("option",{value:"0"},"Private"),s.a.createElement("option",{value:"1"},"Public")),s.a.createElement(bt.Textarea,{name:"notes",label:"Notes"}),this.props.children),s.a.createElement("div",{className:"col-md-4"},s.a.createElement(ot.a,{withIcon:!1,buttonText:"Choose images",onChange:this.props.onDrop,imgExtension:[".jpg",".gif",".png",".gif"],maxFileSize:5242880,withPreview:!0})),s.a.createElement("div",{className:"col-md-12"},s.a.createElement(bt.Input,{type:"hidden",name:"user_id",value:this.props.session.user.id}),s.a.createElement(bt.Button,{type:"submit"},"  ",this.props.edit?"Edit Session":"Add Session"))),s.a.createElement(ht,{show:this.state.show,handleClose:function(t){return e.hideModal(t)}},s.a.createElement(Tt,{onSuccess:function(t){return e.hideModal(t)},noUpdate:!0})))}}]),a}(s.a.Component),Ft=Object(i.b)((function(e){return{session:e.session,boards:e.user_boards.data,user_sessions:e.user_sessions.data}}),(function(e){return{loadBoards:function(t,a){return e(t.get({label:"LOAD_USER_BAORDS",wheres:{user_id:a.user.id},withs:["Board"],onSuccess:function(e){return{type:"SET_USER_BOARDS",payload:e}}}))}}}))(Lt),Mt=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).processFormSubmission=function(e){var t=e.serialized,a=e.fields,s=e.form;console.log(t,a,s);var r=n.props,o=r.session,i=r.createSession,c=n.state.images;return new Promise((function(e,a){if(o.isLoggedIn){var n=nt.createFormRequest(t);c.forEach((function(e,t){n.append("photo",e)})),i(new nt(o),n),e(n)}else a("user not logged in ")}))},n.returnToIndex=function(e){n.props.history.push("/user/dashboard")},n.state={values:[],loading:!1,submitSuccess:!1,submitFail:!1,errorMessage:null,images:[],show:!1},n.onDrop=n.onDrop.bind(Object(ke.a)(n)),n}return Object(C.a)(a,[{key:"onDrop",value:function(e,t){this.setState({images:this.state.images.concat(e)})}},{key:"componentDidMount",value:function(){this.props.session.isLoggedIn||this.props.history.push("/")}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;e.user_sessions.length!==this.props.user_sessions.length&&(this.setState({submitSuccess:!0}),setTimeout((function(){n.props.history.push("/user/dashboard")}),1500))}},{key:"render",value:function(){var e=this.state,t=e.submitSuccess,a=e.submitFail,n=e.loading,r=e.errorMessage,o=e.images;return console.log("initial images = ",o),s.a.createElement(Ue,null,s.a.createElement(Ve,{returnToIndex:this.returnToIndex},s.a.createElement("div",{className:"col-md-12 row "},s.a.createElement("div",{className:"col-md-12 "},s.a.createElement("h2",null,"Create A Session"),!t&&s.a.createElement("div",{className:"alert alert-info",role:"alert"},"Fill the form below to create a new session"),t&&s.a.createElement("div",{className:"alert alert-info",role:"alert"},"The form was successfully submitted!"),a&&s.a.createElement("div",{className:"alert alert-info",role:"alert"},r)),s.a.createElement("div",{className:"col-md-12"},s.a.createElement(Ft,{session:this.state.session,processFormSubmission:this.processFormSubmission,loading:n,boards:this.props.boards,onDrop:this.onDrop})))))}}]),a}(s.a.Component),Pt=Object(i.b)((function(e){return{session:e.session,boards:e.user_boards,user_sessions:e.user_sessions.data}}),(function(e){return{createSession:function(t,a){return e(t.create({label:"LOAD_USER",data:a,onSuccess:function(e){return{type:"SESSION_CREATED",payload:e}}}))}}}))(Mt),zt=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).processFormSubmission=function(){var e=Object(Ke.a)(Ge.a.mark((function e(t){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n.setState({loading:!0}),n.sessionRequest.update(n.state.id,n.state.values).then((function(e){n.setState({submitSuccess:!0,loading:!1}),setTimeout((function(){n.props.history.push("/session")}),1500)})).catch((function(e){n.setState({submitSuccess:!1,submitFail:!0,errorMessage:e.response.data.message})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.setValues=function(e){n.setState({values:Object(v.a)(Object(v.a)({},n.state.values),e)})},n.handleInputChanges=function(e){e.preventDefault(),n.setValues(Object(te.a)({},e.currentTarget.id,e.currentTarget.value));var t=n.state.session;t[e.currentTarget.id]=e.currentTarget.value,n.setState({session:t})},n.returnToIndex=function(e){n.props.history.push("/user/dashboard")},n.state={id:n.props.match.params.id,session:{},values:[],loading:!1,submitSuccess:!1,submitFail:!1,errorMessage:null,headers:{}},n.sessionRequest=new nt(n.props.session),n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.session.isLoggedIn&&k.a.get(x.a.host+x.a.port+"/api/session/".concat(this.state.id),this.props.session.headers).then((function(t){var a=t.data;e.setState({session:a})})).catch((function(t){return e.props.history.push("/session")}))}},{key:"render",value:function(){var e=this.state,t=e.submitSuccess,a=e.loading,s=e.submitFail,r=e.errorMessage;return n.createElement(Ue,null,n.createElement(Ve,{returnToIndex:this.returnToIndex},n.createElement("div",{className:"col-md-12 "},n.createElement("h2",null,"Edit Session"),t&&n.createElement("div",{className:"alert alert-info",role:"alert"},"Session details have been edited successfully "),s&&n.createElement("div",{className:"alert alert-info",role:"alert"},r)),n.createElement(Ft,{session:this.state.session,loading:a,handleInputChanges:this.handleInputChanges,processFormSubmission:this.processFormSubmission,edit:"true"})),"}")}}]),a}(n.Component),Vt=Object(i.b)((function(e){return{session:e.session}}))(zt),Yt=(a(825),a(826),a(162)),Wt=a.n(Yt),qt=a(110),Ht=a(370),Gt=a.n(Ht),Kt=a(163),Qt=a.n(Kt),Jt=a(111),Xt=a.n(Jt),Zt=a(368),$t=a.n(Zt),ea=a(369),ta=a.n(ea);console.log("ww comf",ta.a);var aa=$t.a.createClient({key:"d83ea85d7b8b4e4aa71161416200506",responseType:"json",subscription:"premium",locale:"EN"}),na=a(229),sa=a.n(na),ra={session:["Location","UserBoard.UserBoardImage"]},oa=function(e){Object(I.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(_.a)(this,n),(s=t.call(this,e)).setSelectedBoard=function(){var e=[],t=s.state.select;s.props.boards.map((function(a){var n={id:a.id,name:a.name};a.id===s.props.current_session.board_id&&(t=n),e.push(n)})),s.setState({selectOptions:e,select:t})},s.returnToIndex=function(e){s.props.history.length>1?s.props.history.goBack():s.props.history.push("/user/dashboard")},s.submitUpdate=function(e){s.props.editSession(s.UserSessionRequest,s.props,e),s.setState(e)},s.onLocationChange=function(e,t){if(t){var a=[];a[e]=t,s.submitUpdate(Object(v.a)({},a))}},s.onLocationBlur=function(e,t,a){console.log("blur",e,t,a)},s.onBoardChange=function(e){s.submitUpdate({board_id:e});var t=parseInt(e);s.state.selectOptions.map((function(e){return e.id===t&&s.setState({select:e}),!0}))},s.onImageLoad=function(e){console.log("imger loaded",s.props.session_images.length,e.target),s.setState({selectedImage:s.props.session_images[0]})},s.onImageSelected=function(e){s.setState({selectedImage:s.props.session_images[e],imageIndex:e})},s.deleteImage=function(e){new Promise((function(e,t){e(s.props.deleteSessionImage(new nt(s.props.session),{id:s.state.selectedImage.id}))})).then((function(e){var t=0===s.state.imageIndex?0:s.state.imageIndex-1;s.setState({imageIndex:t,selectedImage:s.props.session_images[t]})}))},s.onDateChange=function(e){var t=$e()(e).format("YYYY-MM-DD HH:mm:ss");console.log(t),s.submitUpdate({session_date:t}),s.setState({date:e})},s.loadNoaa=function(){var e=a(31).inspect,t={listLatLon:"38.99,-77.01 37.7833,-122.4167",begin:$e()().format("YYYY-MM-DDTHH:mm:ss"),end:$e()().add(3,"days").format("YYYY-MM-DDTHH:mm:ss"),qpf:"qpf",pop12:"pop12"};sa.a.setToken("yPMNDtzDeHIgQPxhrkzuKJHGKlzGkSQV"),sa.a.getForecast(t).then((function(t){console.log(e(t,{colors:!0,depth:1/0}))}))},s.loadWorldWeather=function(){aa.marineWeatherApi({q:"39.6439329,-74.18136799999999",tide:"yes"},(function(e,t){e?console.log(e):console.log(t)}))},s.UserSessionRequest=new nt(e.session),s.state={boards:[],select:{id:0,name:"No Board Selected"},selectedImage:null,selectOptions:[],uploaderInstance:1,imageIndex:0,date:"",defaultImage:"https://image.shutterstock.com/image-vector/please-no-photo-camera-vector-260nw-473234290.jpg"},s.onDrop=s.onDrop.bind(Object(ke.a)(s)),s}return Object(C.a)(n,[{key:"onDrop",value:function(e,t){var a=nt.createFormRequest({session_id:this.props.current_session.id,user_id:this.props.session.user.id});e.forEach((function(e,t){a.append("photo",e)})),this.props.addImages(new nt(this.props.session),a),this.setState({uploaderInstance:this.state.uploaderInstance+1})}},{key:"componentDidMount",value:function(){this.props.session.isLoggedIn?(this.props.loadBoards(new R(this.props.session),this.props.session),this.props.loadSession(this.UserSessionRequest,this.props),this.props.loadSessionImages(new nt(this.props.session),this.props)):this.props.history.push("/session")}},{key:"componentWillUpdate",value:function(){this.props.boards.length&&!this.state.selectOptions.length&&this.props.current_session.id&&this.setSelectedBoard()}},{key:"componentWillUnmount",value:function(){this.props.clearSession()}},{key:"render",value:function(){var e=this,t=this.props.current_session,a=this.props.current_session.UserBoard&&this.props.current_session.UserBoard.UserBoardImages&&this.props.current_session.UserBoard.UserBoardImages.length?V+this.props.current_session.UserBoard.UserBoardImages[0].name:this.state.defaultImage;return s.a.createElement(Ue,null,s.a.createElement(Ve,{returnToIndex:this.returnToIndex},s.a.createElement(vt.Form,null,s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"wrapper row"},s.a.createElement("div",{className:"details col-md-12"},s.a.createElement("h3",{className:"session-title"},s.a.createElement(qt.RIEInput,{required:!1,value:t.title||"",defaultValue:t.title,change:this.submitUpdate,propName:"title"}))),s.a.createElement("div",{className:"preview col-md-7"},s.a.createElement("div",{className:"card"},s.a.createElement(Qt.a,{items:this.props.session_images,showBullets:!0,showIndex:!0,startIndex:this.state.imageIndex,onSlide:this.onImageSelected,onImageLoad:this.onImageLoad}),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"card-text"},s.a.createElement(ot.a,{key:this.state.uploaderInstance,withIcon:!0,buttonText:"Add Images!",onChange:this.onDrop,imgExtension:[".jpg",".gif",".png",".gif"],maxFileSize:5242880,withPreview:!1}),s.a.createElement(Be.a,{size:"lg",alt:"delete user",style:{marginLeft:".5em",cursor:"pointer",color:"red"},icon:Re.f,onClick:this.deleteImage,value:this.state.imageIndex}))))),s.a.createElement("div",{className:"details col-md-5"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"detail-line"},s.a.createElement(Xe,{stars:t.rating,onClick:this.submitUpdate,size:"md"})),s.a.createElement("div",{className:"detail-line"},s.a.createElement(Ut,{id:"location_id",name:"location_id",className:"form-control",onChange:this.onLocationChange,onBlur:this.onLocationBlur,value:t.location_id,placeholder:t.Location?t.Location.formatted_address:"No Location Specified"})),s.a.createElement("div",{className:"detail-line"},s.a.createElement("div",null,s.a.createElement("strong",null,"Date:")),s.a.createElement(Gt.a,{selected:this.state.date,className:"date-picker-input form-control",onChange:this.onDateChange,showTimeSelect:!0,dateFormat:"MMMM d yyyy h:mm a",placeholderText:$e()(t.session_date).format("MMMM D YYYY h:mm a")})),s.a.createElement("div",{className:"row detail-line"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("strong",null,"Board:")),s.a.createElement("div",{className:"col-md-4"},s.a.createElement("img",{style:{cursor:"pointer"},onClick:function(){return e.props.history.push("/board/"+t.board_id)},src:a})),s.a.createElement("div",{className:"col-md-8 board-select"},s.a.createElement("div",{className:"row col-md-12"},s.a.createElement("strong",null,s.a.createElement(Xt.a,{type:Jt.InputType.Select,value:this.state.select.name,onChange:this.onBoardChange,options:this.state.selectOptions,valueKey:"id",labelKey:"name"}),t.UserBoard&&s.a.createElement("div",null,s.a.createElement("strong",null,"Size:")," ",t.UserBoard.size))))),s.a.createElement("div",{className:"detail-line"},s.a.createElement("div",null,s.a.createElement("strong",null,"Notes:")),s.a.createElement(qt.RIETextArea,{value:t.notes||"You have no notes for this session",className:"form-control text-area",defaultValue:t.notes,change:this.submitUpdate,propName:"notes",validate:Wt.a.isString})))))))))}}]),n}(n.Component),ia=Object(i.b)((function(e){return{session:e.session,current_session:e.user_sessions.selected,boards:e.user_boards.data,session_images:e.session_images,api:e.api}}),(function(e){return{loadSession:function(t,a){return e(t.getOne({id:a.match.params.id,withs:ra.session,onSuccess:function(e){return function(e){return{type:"SET_USER_SESSION",payload:e}}(e)}}))},clearSession:function(){return e({type:"USER_SESSION_CLEARED",payload:null})},editSession:function(t,a,n){return e(t.update({id:a.match.params.id,data:n,onSuccess:function(e){return function(e){return{type:"USER_SESSION_UPDATED",payload:e}}(e)}}))},loadBoards:function(t,a){return e(t.get({wheres:{user_id:a.user.id},onSuccess:function(e){return st(e)}}))},addImages:function(t,a){return e(t.createImages({data:a,onSuccess:function(e){return{type:"SESSION_IMAGES_ADDED",payload:e}}}))},loadSessionImages:function(t,a){return e(t.getImages({wheres:{session_id:a.match.params.id},onSuccess:function(e){return{type:"SET_SESSION_IMAGES",payload:e}}}))},deleteSessionImage:function(t,a){return e(t.deleteImage({id:a.id,onSuccess:function(e){return{type:"SESSION_IMAGE_DELETED",payload:e}}}))}}}))(oa),ca=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).state={isAdmin:!1},n.deleteBoard=n.deleteBoard.bind(Object(ke.a)(n)),n.editBoard=n.editBoard.bind(Object(ke.a)(n)),n.viewBoard=n.viewBoard.bind(Object(ke.a)(n)),n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){this.props.session.isLoggedIn&&(this.setState({isAdmin:this.props.session.isAdmin}),this.props.loadBoards(new R(this.props.session),this.props.session))}},{key:"deleteBoard",value:function(e){var t=this;Object(Fe.confirmAlert)({title:"Confirm To Delete",message:"Are you sure you want to delete this session?",buttons:[{label:"Yes",onClick:function(){t.props.deleteSession(new R(t.props.session),e)}},{label:"No",onClick:function(){}}]})}},{key:"editBoard",value:function(e){this.props.history.push("/board/edit/"+e)}},{key:"viewBoard",value:function(e){this.props.history.push("/board/"+e)}},{key:"render",value:function(){var e=this,t=this.props.boards;return s.a.createElement(Ue,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"card card-lg mx-auto"},s.a.createElement("div",{className:"card-title"},s.a.createElement("h2",null,"Boards",this.state.isAdmin&&s.a.createElement(oe.b,{to:"board/create",className:"btn btn-sm btn-outline-secondary float-right"}," Create New Board"))),s.a.createElement("div",{className:"card-text"},s.a.createElement("div",{className:"table-container"},s.a.createElement("div",{className:"row col-md-12"},t&&t.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0})).map((function(t){return s.a.createElement(tt,{board:t,key:t.id,className:"col-md-3",deleteBoard:e.deleteBoard,viewBoard:e.viewBoard,editBoard:e.editBoard})}))))))))}}]),a}(n.Component),la=Object(i.b)((function(e){return{session:e.session,boards:e.user_boards.data}}),(function(e){return{loadBoards:function(t,a){return e(t.get({label:"LOAD_USER_BOARDS",wheres:{user_id:a.user.id},withs:["Board.Manufacturer","UserBoardImage"],onSuccess:function(e){return{type:"SET_USER_BOARDS",payload:e}}}))},deleteBoard:function(t,a){return e(t.delete({label:"DELETE_USER_BOARD",id:a,onSuccess:function(e){return{type:"DELETE_USER_BOARD",payload:a}}}))}}}))(ca),ua=function(e){return s.a.createElement("form",{className:"row",id:"create-post-form",onSubmit:e.processFormSubmission,noValidate:!0},s.a.createElement("div",{className:"form-group col-md-12"},s.a.createElement("label",{htmlFor:"model"},"Name"),s.a.createElement("input",{type:"text",id:"model",defaultValue:e.board.model,onChange:function(t){return e.handleInputChanges(t)},name:"model",className:"form-control",placeholder:"Give your Board a Nickname"})),s.a.createElement("div",{className:"form-group col-md-12"},s.a.createElement("label",{htmlFor:"rating"}," Manufacturer/Shaper",s.a.createElement("select",{onChange:function(t){return e.handleInputChanges(t)},id:"manufacturer_id",name:"manufacturer_id",className:"form-control"},e.manufacturers.map((function(e){return s.a.createElement("option",{prop:e.name,value:e.id},e.name)}))))),s.a.createElement("div",{className:"form-group col-md-12"},s.a.createElement("label",{htmlFor:"rating"}," Model",s.a.createElement("select",{onChange:function(t){return e.handleInputChanges(t)},id:"manufacturer_id",name:"manufacturer_id",className:"form-control"},e.models.map((function(e){return s.a.createElement("option",{prop:e.model,value:e.id},e.model)}))))),s.a.createElement("div",{className:"form-group col-md-12"},s.a.createElement("label",{htmlFor:"rating"}," What would you rate this Board on a scale of 1-10?",s.a.createElement("select",{value:e.board.rating,onChange:function(t){return e.handleInputChanges(t)},id:"rating",name:"rating",className:"form-control"},s.a.createElement("option",{value:"1"},"1"),s.a.createElement("option",{value:"2"},"2"),s.a.createElement("option",{value:"3"},"3"),s.a.createElement("option",{value:"4"},"4"),s.a.createElement("option",{value:"5"},"5"),s.a.createElement("option",{value:"6"},"6"),s.a.createElement("option",{value:"7"},"7"),s.a.createElement("option",{value:"8"},"8"),s.a.createElement("option",{value:"9"},"9"),s.a.createElement("option",{value:"10"},"10")))),s.a.createElement("div",{className:"form-group col-md-12"},s.a.createElement("label",{htmlFor:"isPublic"}," Should this Board be Public to ALL logged-in Users?",s.a.createElement("select",{value:e.board.is_public,onChange:function(t){return e.handleInputChanges(t)},id:"is_public",name:"is_public",className:"form-control"},s.a.createElement("option",{value:"0"},"Private"),s.a.createElement("option",{value:"1"},"Public")))),e.children&&s.a.createElement("div",{className:"form-group col-md-12"},e.children),s.a.createElement("div",{className:"form-group col-md-4 pull-right"},s.a.createElement("button",{className:"btn btn-success",type:"submit"},e.edit?"Edit Board":"Add Board")))},ma=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).processFormSubmission=function(e){e.preventDefault(),n.setState({loading:!0});var t=new FormData;t.append("model",n.state.model),t.append("submitted_by",n.props.session.user.userName),n.state.images.forEach((function(e,a){t.append("photo",e)})),n.setState({submitSuccess:!0,values:[].concat(Object(ze.a)(n.state.values),[t]),loading:!1}),n.props.session.isLoggedIn&&n.props.session.isAdmin&&k.a.post(x.a.host+x.a.port+"/api/board",t,n.props.session.headers).then((function(e){return[setTimeout((function(){n.props.history.push("/board")}),1500)]})).catch((function(e){n.setState({submitSuccess:!1,submitFail:!0,errorMessage:e.response.data.message})}))},n.handleInputChanges=function(e){e.preventDefault(),n.setState(Object(te.a)({},e.currentTarget.name,e.currentTarget.value))},n.onChange=function(e){var t=Array.from(e.target.files);n.setState({uploading:!1,images:t})},n.returnToIndex=function(e){n.props.history.push("/board")},n.state={rating:5,is_public:0,name:"",submitted_by:"",session:"",manufacturers:[],values:[],loading:!1,submitSuccess:!1,submitFail:!1,errorMessage:null,images:[],headers:{},board:{}},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.session.isLoggedIn){"Bearer ".concat(this.props.session.credentials.accessToken);k.a.get(x.a.host+x.a.port+"/api/manufacturer",this.props.session.headers).then((function(t){return e.setState({manufacturers:t.data})})).catch((function(t){return e.setState({submitSuccess:!1,submitFail:!0,errorMessage:t.response.data.message})})),k.a.get(x.a.host+x.a.port+"/api/board",this.props.session.headers).then((function(t){return e.setState({models:t.data})})).catch((function(t){return e.setState({submitSuccess:!1,submitFail:!0,errorMessage:t.response.data.message})}))}else this.props.history.push("/")}},{key:"render",value:function(){var e=this.state,t=e.submitSuccess,a=e.submitFail,s=e.loading,r=e.errorMessage;return n.createElement(Ue,null,n.createElement(Ve,{returnToIndex:this.returnToIndex},n.createElement("div",{className:"col-md-12 "},n.createElement("h2",null,"Create Board"),!t&&n.createElement("div",{className:"alert alert-info",role:"alert"},"Fill the form below to create a new post"),t&&n.createElement("div",{className:"alert alert-info",role:"alert"},"The form was successfully submitted!"),a&&n.createElement("div",{className:"alert alert-info",role:"alert"},r),n.createElement(ua,{board:this.state.board,handleInputChanges:this.handleInputChanges,processFormSubmission:this.processFormSubmission,loading:s}))))}}]),a}(n.Component),da=(Object(i.b)((function(e){return{session:e.session}}))(ma),function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).processFormSubmission=function(){var e=Object(Ke.a)(Ge.a.mark((function e(t){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n.setState({loading:!0}),k.a.put(x.a.host+x.a.port+"/api/board/".concat(n.state.id),n.state.values,n.props.session.headers).then((function(e){n.setState({submitSuccess:!0,loading:!1}),setTimeout((function(){n.props.history.push("/board")}),1500)})).catch((function(e){n.setState({submitSuccess:!1,submitFail:!0,errorMessage:e.response.data.message})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.setValues=function(e){n.setState({values:Object(v.a)(Object(v.a)({},n.state.values),e)})},n.handleInputChanges=function(e){e.preventDefault(),n.setValues(Object(te.a)({},e.currentTarget.id,e.currentTarget.value));var t=n.state.session;t[e.currentTarget.id]=e.currentTarget.value,n.setState({session:t})},n.returnToIndex=function(e){n.props.history.push("/board")},n.state={id:n.props.match.params.id,session:{},board:{},values:[],loading:!1,submitSuccess:!1,submitFail:!1,errorMessage:null,headers:{}},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.session.isLoggedIn&&k.a.get(x.a.host+x.a.port+"/api/board/".concat(this.state.id),this.props.session.headers).then((function(t){var a=t.data;e.setState({board:a})})).catch((function(t){return e.props.history.push("/board")}))}},{key:"render",value:function(){var e=this.state,t=e.submitSuccess,a=e.loading,s=e.submitFail,r=e.errorMessage;return n.createElement(Ue,null,n.createElement(Ve,{returnToIndex:this.returnToIndex},n.createElement("div",{className:"col-md-12 "},n.createElement("h2",null,"Edit Board"),t&&n.createElement("div",{className:"alert alert-info",role:"alert"},"Board details have been edited successfully "),s&&n.createElement("div",{className:"alert alert-info",role:"alert"},r)),n.createElement(ua,{board:this.state.board,loading:a,handleInputChanges:this.handleInputChanges,processFormSubmission:this.processFormSubmission,edit:"true"})),"}")}}]),a}(n.Component)),pa=Object(i.b)((function(e){return{session:e.session}}))(da),ha=(a(1137),function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).prepBoardSizeOptions=function(e){var t=[];return e.forEach((function(e){return t.push({id:e})})),t},n.onTypeAheadSelected=function(e,t){var a=[];if(a[e]=t,"manufacturer_id"===e){var s=Number.isInteger(n.state.board_id)?n.state.board_id:n.props.board.id,r=n.props.boards.find((function(e){return e.id===s}));console.log("boards",s,r),r&&r.manufacturer_id!==t&&(a.board_id="",a.modelPlaceholder="Choose A Board",console.log("board does not match manufactiure",t))}n.setState(Object(v.a)({},a)),console.log("state",n.state)},n.getShaperSuggestions=function(e,t){if(!e||"type_ahead_focused"===t)return n.props.shapers;var a=e.trim().toLowerCase(),s=a.length;return 0===s?[]:n.props.shapers.filter((function(e){return e.name.toLowerCase().slice(0,s)===a}))},n.getBoardSuggestions=function(e,t){if(!e||"type_ahead_focused"===t){var a=""===n.state.manufacturer_id?n.props.board.Board.manufacturer_id:n.state.manufacturer_id;return n.props.boards.filter((function(e){return e.manufacturer_id===a}))}var s=e.trim().toLowerCase(),r=s.length;return 0===r?[]:n.props.boards.filter((function(e){return e.model.toLowerCase().slice(0,r)===s&&e.manufacturer_id===n.state.manufacturer_id}))},n.submitUpdate=function(e){n.props.editUserBoard(new R(n.props.session),n.props,e),n.setState(e)},n.returnToIndex=function(e){n.props.history.length>1?n.props.history.goBack():n.props.history.push("/board")},n.onImageLoad=function(e){console.log("imger loaded",n.props.images.length,e.target),n.setState({selectedImage:n.props.images[0]})},n.onImageSelected=function(e){n.setState({selectedImage:n.props.images[e],imageIndex:e})},n.deleteImage=function(e){new Promise((function(e,t){e(n.props.deleteBoardImage(new R(n.props.session),{id:n.state.selectedImage.id}))})).then((function(e){var t=0===n.state.imageIndex?0:n.state.imageIndex-1;n.setState({imageIndex:t,selectedImage:n.props.images[t]})}))},n.state={session:[],board_id:"",manufacturer_id:"",uploaderInstance:1,imageIndex:0,modelPlaceholder:null,boardSizeOptions:n.prepBoardSizeOptions(It)},n.onDrop=n.onDrop.bind(Object(ke.a)(n)),n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){this.props.session.isLoggedIn?(this.props.loadBoard(new R(this.props.session),this.props),this.props.loadSessions(new nt,this.props),this.props.loadBoards(new ft(this.props.session),this.props.session),this.props.loadShapers(new gt(this.props.session),this.props.session),this.props.loadBoardImages(new R(this.props.session),this.props)):this.props.history.push("/board")}},{key:"onDrop",value:function(e,t){var a=R.createFormRequest({user_board_id:this.props.board.id,user_id:this.props.session.user.id});e.forEach((function(e,t){a.append("photo",e)})),this.props.addImages(new R(this.props.session),a),this.setState({uploaderInstance:this.state.uploaderInstance+1})}},{key:"renderLeftNav",value:function(){return s.a.createElement("button",{className:"image-gallery-custom-left-nav btn btn-primary"},"hello")}},{key:"render",value:function(){var e=this,t=this.props.board,a=this.state.modelPlaceholder?this.state.modelPlaceholder:t.Board&&t.Board.model||"Choose A Model";return s.a.createElement(Ue,null,s.a.createElement(Ve,{returnToIndex:this.returnToIndex},s.a.createElement(vt.Form,null,s.a.createElement("div",{className:"wrapper row col-md-12 container"},s.a.createElement("h2",{className:"details col-md-12"},s.a.createElement(qt.RIEInput,{required:!1,value:t.name||"",s:!0,defaultValue:t.name,change:this.submitUpdate,propName:"name"})),s.a.createElement("div",{className:"preview col-md-6"},s.a.createElement("div",{className:"card"},s.a.createElement(Qt.a,{items:this.props.images,showBullets:!0,showIndex:!0,startIndex:this.state.imageIndex,onSlide:this.onImageSelected,showNav:!1,onImageLoad:this.onImageLoad,className:"card-img-top"}),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"card-text"},s.a.createElement(ot.a,{key:this.state.uploaderInstance,withIcon:!1,buttonText:"Add Images!",onChange:this.onDrop,imgExtension:[".jpg",".gif",".png",".gif"],maxFileSize:5242880,label:"",withPreview:!1}),s.a.createElement(Be.a,{size:"lg",alt:"delete user",style:{marginLeft:".5em",cursor:"pointer",color:"red"},icon:Re.f,onClick:this.deleteImage,value:this.state.imageIndex}))))),s.a.createElement("div",{className:"details col-md-6"},s.a.createElement("div",{className:"detail-line"},s.a.createElement(Xe,{stars:t.rating,onClick:this.submitUpdate,size:"1x"})),s.a.createElement("div",{className:"detail-line"},s.a.createElement("strong",null,"Size:"),"\xa0",s.a.createElement(Xt.a,{type:Jt.InputType.Select,value:t.size,onChange:function(t){e.submitUpdate({size:t})},options:this.state.boardSizeOptions,valueKey:"id",labelKey:"id"})),s.a.createElement("div",{className:"detail-line"},s.a.createElement("div",null,s.a.createElement("strong",null,"Shaper/Company:")),s.a.createElement(Nt,{entity:this.props.shapers,name:"manufacturer_id",keyName:"name",className:"form-control",placeholder:t.Board&&t.Board.Manufacturer&&t.Board.Manufacturer.name||"Choose A Shaper",value:this.state.manufacturer_id,setValue:this.onTypeAheadSelected,getSuggestions:this.getShaperSuggestions,display:!0})),s.a.createElement("div",{className:"detail-line"},s.a.createElement("div",null,s.a.createElement("strong",null,"Model:")),s.a.createElement(Nt,{entity:this.props.boards,name:"board_id",keyName:"model",className:"form-control",placeholder:a,value:this.state.board_id,setValue:this.onTypeAheadSelected,getSuggestions:this.getBoardSuggestions,display:!0})),s.a.createElement("div",{className:"detail-line"},s.a.createElement("div",null,s.a.createElement("strong",null,"Notes:")),s.a.createElement(qt.RIETextArea,{value:t.notes||"You have no notes for this session",defaultValue:t.notes,className:"form-control text-area",change:this.submitUpdate,propName:"notes",validate:Wt.a.isString})))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"row col-md-12 card-title"},s.a.createElement("h5",null,"Used In Sessions...")),s.a.createElement("div",{className:"card-text"},s.a.createElement("div",{className:"table-container"},s.a.createElement("div",{className:"row"},t.Sessions&&t.Sessions.reduce((function(e,t,a){return a<3&&e.push(s.a.createElement("div",{className:"col-md-4"},s.a.createElement("div",{key:t.id,className:"card row"},s.a.createElement(et,{session:t,key:t.id,className:"row col-md-12"})))),e}),[]),(!t.Sessions||0===t.Sessions.length)&&s.a.createElement("div",{className:"col-12"},s.a.createElement("h3",null,"No Sessions found at the moment")))))))))}}]),a}(n.Component)),fa=Object(i.b)((function(e){return{session:e.session,board:e.user_boards.selected,boards:e.boards,shapers:e.shapers,images:e.user_board_images}}),(function(e){return{loadBoard:function(t,a){return e(t.getOne({id:a.match.params.id,withs:["Board.Manufacturer","Session.SessionImage"],onSuccess:function(e){return{type:"SET_USER_BOARD",payload:e}}}))},loadSessions:function(t,a){return e(t.get({wheres:{board_id:a.match.params.id},withs:["Location","SessionImage"],onSuccess:function(e){return{type:"SET_USER_SESSIONS",payload:e}}}))},editUserBoard:function(t,a,n){return e(t.update({id:a.match.params.id,data:n,onSuccess:function(e){return function(e){return{type:"USER_BOARD_UPDATED",payload:e}}(e)}}))},loadShapers:function(t,a){return e(t.get({limit:1e3,withs:["Board"],onSuccess:function(e){return{type:"SET_SHAPERS",payload:e}}}))},loadBoards:function(t,a){return e(t.get({limit:1e3,withs:["Manufacturer"],onSuccess:function(e){return{type:"SET_BOARDS",payload:e}}}))},loadBoardImages:function(t,a){return e(t.getImages({wheres:{user_board_id:a.match.params.id},onSuccess:function(e){return{type:"SET_USER_BOARD_IMAGES",payload:e}}}))},addImages:function(t,a){return e(t.createImages({data:a,onSuccess:function(e){return{type:"USER_BOARD_IMAGES_ADDED",payload:e}}}))},deleteBoardImage:function(t,a){return e(t.deleteImage({id:a.id,onSuccess:function(e){return{type:"USER_BOARD_IMAGE_DELETED",payload:e}}}))}}}))(ha),ga=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(){return Object(_.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"row table-row",key:this.props.location.id},s.a.createElement("div",{className:"col-6"},s.a.createElement("div",null,s.a.createElement("a",{href:"#",onClick:function(){return e.props.viewLocation(e.props.location.id)}},this.props.location.name)),s.a.createElement("div",null,this.props.location.City.name)),s.a.createElement("div",{className:"col-3"},this.props.location.createdAt),s.a.createElement("div",{className:"col-3 location-details"},s.a.createElement("div",null,this.props.location.is_public&&"0"!==this.props.location.is_public?"Public":"Private"),s.a.createElement("div",null,s.a.createElement(Xe,{stars:this.props.location.rating})),s.a.createElement("div",{className:"edit-delete"},this.props.isAdmin&&s.a.createElement(Be.a,{size:"lg",alt:"edit user",style:{marginLeft:".1em",cursor:"pointer"},icon:Re.b,onClick:function(){return e.props.editLocation(e.props.location.id)}}),this.props.isAdmin&&s.a.createElement(Be.a,{size:"lg",alt:"delete user",style:{marginLeft:".5em",cursor:"pointer",color:"red"},icon:Re.f,onClick:function(){return e.props.deleteLocation(e.props.location.id)}}))))}}]),a}(s.a.Component),va=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).state={locations:[],headers:{},isAdmin:!1},n.deleteLocation=n.deleteLocation.bind(Object(ke.a)(n)),n.editLocation=n.editLocation.bind(Object(ke.a)(n)),n.viewLocation=n.viewLocation.bind(Object(ke.a)(n)),n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.session.isLoggedIn&&(this.setState({isAdmin:this.props.session.isAdmin}),k.a.get(x.a.host+x.a.port+"/api/location?with=City",this.props.session.headers).then((function(t){t.data.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0})),e.setState({locations:t.data})})))}},{key:"deleteLocation",value:function(e){var t=this;Object(Fe.confirmAlert)({title:"Confirm To Delete",message:"Are you sure you want to delete this session?",buttons:[{label:"Yes",onClick:function(){k.a.delete(x.a.host+x.a.port+"/api/location/".concat(e),t.props.session.headers).then((function(a){var n=t.state.locations.findIndex((function(t){return t.id===e}));t.state.locations.splice(n,1),t.props.history.push("/location")}))}},{label:"No",onClick:function(){}}]})}},{key:"editLocation",value:function(e){this.props.history.push("/location/edit/"+e)}},{key:"viewLocation",value:function(e){this.props.history.push("/location/"+e)}},{key:"render",value:function(){var e=this,t=this.state.locations;return s.a.createElement(Ue,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"card card-lg  mx-auto"},s.a.createElement("div",{className:"card-title"},s.a.createElement("h2",null,"Locations",this.state.isAdmin&&s.a.createElement(oe.b,{to:"location/create",className:"btn btn-sm btn-outline-secondary float-right"}," Create New Location"))),s.a.createElement("div",{className:"card-text"},s.a.createElement("div",{className:"table-container"},s.a.createElement("div",{className:"row table-header"},s.a.createElement("div",{className:"col-6"},"Name"),s.a.createElement("div",{className:"col-3"},"Date"),s.a.createElement("div",{className:"col-3"},"Location")),t&&t.map((function(t){return(e.state.isAdmin||t.isPublic)&&s.a.createElement(ga,{location:t,deleteLocation:e.deleteLocation,viewLocation:e.viewLocation,editLocation:e.editLocation,isAdmin:e.state.isAdmin,key:t.id})})),(!t||0===t.length)&&s.a.createElement("div",{className:"col-12"},s.a.createElement("h3",null,"No locations found at the moment")))))))}}]),a}(n.Component),ba=Object(i.b)((function(e){return{session:e.session}}))(va),Ea=function(){return s.a.createElement("div",{className:"spinner fadein"},s.a.createElement(Be.a,{icon:Re.a,size:"5x",color:"#3B5998"}))},Sa=function(e){return e.images.map((function(t,a){return s.a.createElement("div",{key:a,className:"fadein"},s.a.createElement("div",{onClick:function(){return e.removeImage(t.public_id)},className:"delete"},s.a.createElement(Be.a,{icon:Re.e})),s.a.createElement("img",{className:"preview",src:window.URL.createObjectURL(t),alt:""}))}))},ya=function(e){return s.a.createElement("div",{className:""},s.a.createElement("label",{className:"fileContainer"},"Upload An Image!",s.a.createElement("input",{type:"file",multiple:!0,id:"multi",onChange:e.onChange,accept:".jpg,.jpeg,.gif,.png"})),s.a.createElement(Be.a,{icon:Re.c,color:"#3B5998",size:"3x"}))},Na=function(e){return s.a.createElement("form",{className:"row",id:"create-post-form",onSubmit:e.processFormSubmission,noValidate:!0},s.a.createElement("div",{className:"form-group col-md-12"},s.a.createElement("label",{htmlFor:"rating"}," What would you rate this Location on a scale of 1-10?",s.a.createElement("select",{value:e.location.rating,onChange:function(t){return e.handleInputChanges(t)},id:"rating",name:"rating",className:"form-control"},s.a.createElement("option",{value:"1"},"1"),s.a.createElement("option",{value:"2"},"2"),s.a.createElement("option",{value:"3"},"3"),s.a.createElement("option",{value:"4"},"4"),s.a.createElement("option",{value:"5"},"5"),s.a.createElement("option",{value:"6"},"6"),s.a.createElement("option",{value:"7"},"7"),s.a.createElement("option",{value:"8"},"8"),s.a.createElement("option",{value:"9"},"9"),s.a.createElement("option",{value:"10"},"10")))),s.a.createElement("div",{className:"form-group col-md-12"},s.a.createElement("label",{htmlFor:"isPublic"}," Should this Location be Public to ALL logged-in Users?",s.a.createElement("select",{value:e.location.is_public,onChange:function(t){return e.handleInputChanges(t)},id:"is_public",name:"is_public",className:"form-control"},s.a.createElement("option",{value:"0"},"Private"),s.a.createElement("option",{value:"1"},"Public")))),s.a.createElement("div",{className:"form-group col-md-12"},s.a.createElement("label",{htmlFor:"model"}," Model "),s.a.createElement("input",{type:"text",id:"model",defaultValue:e.location.model,onChange:function(t){return e.handleInputChanges(t)},name:"model",className:"form-control",placeholder:"Location Model"})),e.children&&s.a.createElement("div",{className:"form-group col-md-12"},e.children),s.a.createElement("div",{className:"form-group col-md-4 pull-right"},s.a.createElement("button",{className:"btn btn-success",type:"submit"},e.edit?"Edit Location":"Add Location")))},Oa=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).processFormSubmission=function(e){e.preventDefault(),n.setState({loading:!0});var t=new FormData;t.append("model",n.state.model),t.append("submitted_by",n.props.session.user.userName),n.state.images.forEach((function(e,a){t.append("photo",e)})),n.setState({submitSuccess:!0,values:[].concat(Object(ze.a)(n.state.values),[t]),loading:!1}),n.props.session.isLoggedIn&&n.props.session.isAdmin&&k.a.post(x.a.host+x.a.port+"/api/location",t,n.props.session.headers).then((function(e){return[setTimeout((function(){n.props.history.push("/location")}),1500)]})).catch((function(e){n.setState({submitSuccess:!1,submitFail:!0,errorMessage:e.response.data.message})}))},n.handleInputChanges=function(e){e.preventDefault(),n.setState(Object(te.a)({},e.currentTarget.name,e.currentTarget.value))},n.onChange=function(e){var t=Array.from(e.target.files);n.setState({uploading:!1,images:t})},n.removeImage=function(e){n.setState({images:n.state.images.filter((function(t){return t.public_id!==e}))})},n.returnToIndex=function(e){n.props.history.push("/location")},n.state={rating:5,is_public:0,name:"",submitted_by:"",session:"",values:[],loading:!1,submitSuccess:!1,submitFail:!1,errorMessage:null,images:[],headers:{},location:{}},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){if(this.props.session.isLoggedIn)"Bearer ".concat(this.props.session.credentials.accessToken);else this.props.history.push("/")}},{key:"render",value:function(){var e=this,t=this.state,a=t.submitSuccess,s=t.submitFail,r=t.loading,o=t.errorMessage,i=t.uploading,c=t.images;return n.createElement(Ue,null,n.createElement(Ve,{returnToIndex:this.returnToIndex},n.createElement("div",{className:"col-md-12 "},n.createElement("h2",null,"Create Location"),!a&&n.createElement("div",{className:"alert alert-info",role:"alert"},"Fill the form below to create a new post"),a&&n.createElement("div",{className:"alert alert-info",role:"alert"},"The form was successfully submitted!"),s&&n.createElement("div",{className:"alert alert-info",role:"alert"},o),n.createElement(Na,{location:this.state.location,handleInputChanges:this.handleInputChanges,processFormSubmission:this.processFormSubmission,loading:r},function(){switch(!0){case i:return n.createElement(Ea,null);case c.length>0:return n.createElement(Sa,{images:c,removeImage:e.removeImage});default:return n.createElement(ya,{onChange:e.onChange})}}()))))}}]),a}(n.Component),_a=Object(i.b)((function(e){return{session:e.session}}))(Oa),Ia=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).processFormSubmission=function(){var e=Object(Ke.a)(Ge.a.mark((function e(t){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n.setState({loading:!0}),k.a.put(x.a.host+x.a.port+"/api/location/".concat(n.state.id),n.state.values,n.props.session.headers).then((function(e){n.setState({submitSuccess:!0,loading:!1}),setTimeout((function(){n.props.history.push("/location")}),1500)})).catch((function(e){n.setState({submitSuccess:!1,submitFail:!0,errorMessage:e.response.data.message})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.setValues=function(e){n.setState({values:Object(v.a)(Object(v.a)({},n.state.values),e)})},n.handleInputChanges=function(e){e.preventDefault(),n.setValues(Object(te.a)({},e.currentTarget.id,e.currentTarget.value));var t=n.state.session;t[e.currentTarget.id]=e.currentTarget.value,n.setState({session:t})},n.returnToIndex=function(e){n.props.history.push("/location")},n.state={id:n.props.match.params.id,session:{},location:{},values:[],loading:!1,submitSuccess:!1,submitFail:!1,errorMessage:null,headers:{}},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.session.isLoggedIn&&k.a.get(x.a.host+x.a.port+"/api/location/".concat(this.state.id),this.props.session.headers).then((function(t){var a=t.data;e.setState({location:a})})).catch((function(t){return e.props.history.push("/location")}))}},{key:"render",value:function(){var e=this.state,t=e.submitSuccess,a=e.loading,s=e.submitFail,r=e.errorMessage;return n.createElement(Ue,null,n.createElement(Ve,{returnToIndex:this.returnToIndex},n.createElement("div",{className:"col-md-12 "},n.createElement("h2",null,"Edit Location"),t&&n.createElement("div",{className:"alert alert-info",role:"alert"},"Location details have been edited successfully "),s&&n.createElement("div",{className:"alert alert-info",role:"alert"},r)),n.createElement(Na,{location:this.state.location,loading:a,handleInputChanges:this.handleInputChanges,processFormSubmission:this.processFormSubmission,edit:"true"})),"}")}}]),a}(n.Component),ja=Object(i.b)((function(e){return{session:e.session}}))(Ia),wa=(a(1138),function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).returnToIndex=function(e){n.props.history.push("/location")},n.state={session:[],headers:{}},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.session.isLoggedIn&&k.a.get(x.a.host+x.a.port+"/api/location/"+this.props.match.params.id,this.props.session.headers).then((function(t){!e.props.session.isAdmin&&!t.data[0].isPublic||0===t.data.length?e.props.history.push("/location"):e.setState({session:t.data})})).catch((function(t){return e.props.history.push("/location")})),this.state.session===[]&&this.props.history.push("/location")}},{key:"render",value:function(){var e=this.state.session,t=null==e.picture?"no_photo.jpg":e.picture;return s.a.createElement(Ue,null,s.a.createElement(Ve,{returnToIndex:this.returnToIndex},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"wrapper row"},s.a.createElement("div",{className:"preview col-md-6"},s.a.createElement("div",{className:"preview-pic tab-content"},s.a.createElement("div",{className:"tab-pane active",id:"pic-1"},s.a.createElement("img",{src:"https://umanage-mowatr.s3.amazonaws.com/"+t,alt:"session"})))),s.a.createElement("div",{className:"details col-md-6"},s.a.createElement("h3",{className:"session-title"},e.title),s.a.createElement("h5",{className:"submitted-by"},"By ",s.a.createElement("span",null,e.createdAt)),s.a.createElement("h5",{className:"review-no"},"Rated: ",e.rating,"/10 "),s.a.createElement("div",{className:"rating"},s.a.createElement(Xe,{stars:e.rating})),s.a.createElement("h5",{className:"review-no"},"Location:"),s.a.createElement("p",{className:"session-description"},e.title))))))}}]),a}(n.Component)),Ca=Object(i.b)((function(e){return{session:e.session}}))(wa),Ta=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(){return Object(_.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"row table-row",key:this.props.manufacturer.id},s.a.createElement("div",{className:"col-6"},s.a.createElement("div",null,s.a.createElement("a",{href:"#",onClick:function(){return e.props.viewManufacturer(e.props.manufacturer.id)}},this.props.manufacturer.name))),s.a.createElement("div",{className:"col-3"},this.props.manufacturer.createdAt),s.a.createElement("div",{className:"col-3 manufacturer-details"},s.a.createElement("div",null,this.props.manufacturer.is_public&&"0"!==this.props.manufacturer.is_public?"Public":"Private"),s.a.createElement("div",null,s.a.createElement(Xe,{stars:this.props.manufacturer.rating})),s.a.createElement("div",{className:"edit-delete"},this.props.isAdmin&&s.a.createElement(Be.a,{size:"lg",alt:"edit user",style:{marginLeft:".1em",cursor:"pointer"},icon:Re.b,onClick:function(){return e.props.editManufacturer(e.props.manufacturer.id)}}),this.props.isAdmin&&s.a.createElement(Be.a,{size:"lg",alt:"delete user",style:{marginLeft:".5em",cursor:"pointer",color:"red"},icon:Re.f,onClick:function(){return e.props.deleteManufacturer(e.props.manufacturer.id)}}))))}}]),a}(s.a.Component),ka=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).state={manufacturers:[],headers:{},isAdmin:!1},n.deleteManufacturer=n.deleteManufacturer.bind(Object(ke.a)(n)),n.editManufacturer=n.editManufacturer.bind(Object(ke.a)(n)),n.viewManufacturer=n.viewManufacturer.bind(Object(ke.a)(n)),n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.session.isLoggedIn&&(this.setState({isAdmin:this.props.session.isAdmin}),k.a.get(x.a.host+x.a.port+"/api/manufacturer",this.props.session.headers).then((function(t){t.data.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0})),e.setState({manufacturers:t.data})})))}},{key:"deleteManufacturer",value:function(e){var t=this;Object(Fe.confirmAlert)({title:"Confirm To Delete",message:"Are you sure you want to delete this session?",buttons:[{label:"Yes",onClick:function(){k.a.delete(x.a.host+x.a.port+"/api/manufacturer/".concat(e),t.props.session.headers).then((function(a){var n=t.state.manufacturers.findIndex((function(t){return t.id===e}));t.state.manufacturers.splice(n,1),t.props.history.push("/manufacturer")}))}},{label:"No",onClick:function(){}}]})}},{key:"editManufacturer",value:function(e){this.props.history.push("/manufacturer/edit/"+e)}},{key:"viewManufacturer",value:function(e){this.props.history.push("/manufacturer/"+e)}},{key:"render",value:function(){var e=this,t=this.state.manufacturers;return s.a.createElement(Ue,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"card card-lg mx-auto"},s.a.createElement("div",{className:"card-title"},s.a.createElement("h2",null,"Manufacturers",this.state.isAdmin&&s.a.createElement(oe.b,{to:"manufacturer/create",className:"btn btn-sm btn-outline-secondary float-right"}," Create New Manufacturer"))),s.a.createElement("div",{className:"card-text"},s.a.createElement("div",{className:"table-container"},s.a.createElement("div",{className:"row table-header"},s.a.createElement("div",{className:"col-6"},"Name"),s.a.createElement("div",{className:"col-3"},"Date"),s.a.createElement("div",{className:"col-3"},"Manufacturer")),t&&t.map((function(t){return(e.state.isAdmin||t.isPublic)&&s.a.createElement(Ta,{manufacturer:t,deleteManufacturer:e.deleteManufacturer,viewManufacturer:e.viewManufacturer,editManufacturer:e.editManufacturer,isAdmin:e.state.isAdmin,key:t.id})})),(!t||0===t.length)&&s.a.createElement("div",{className:"col-12"},s.a.createElement("h3",null,"No manufacturers found at the moment")))))))}}]),a}(n.Component),Aa=Object(i.b)((function(e){return{session:e.session}}))(ka),xa=function(e){return s.a.createElement("form",{className:"row",id:"create-post-form",onSubmit:e.processFormSubmission,noValidate:!0},s.a.createElement("div",{className:"form-group col-md-12"},s.a.createElement("label",{htmlFor:"model"}," Name "),s.a.createElement("input",{type:"text",id:"name",defaultValue:e.manufacturer.name,onChange:function(t){return e.handleInputChanges(t)},name:"name",className:"form-control",placeholder:"Manufacturer Name"})),e.children&&s.a.createElement("div",{className:"form-group col-md-12"},e.children),s.a.createElement("div",{className:"form-group col-md-4 pull-right"},s.a.createElement("button",{className:"btn btn-success",type:"submit"},e.edit?"Edit Manufacturer":"Add Manufacturer")))},Da=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).processFormSubmission=function(e){e.preventDefault(),n.setState({loading:!0});var t=new FormData;t.append("model",n.state.model),t.append("submitted_by",n.props.session.user.userName),n.state.images.forEach((function(e,a){t.append("photo",e)})),n.setState({submitSuccess:!0,values:[].concat(Object(ze.a)(n.state.values),[t]),loading:!1}),n.props.session.isLoggedIn&&n.props.session.isAdmin&&k.a.post(x.a.host+x.a.port+"/api/manufacturer",t,n.props.session.headers).then((function(e){return[setTimeout((function(){n.props.history.push("/manufacturer")}),1500)]})).catch((function(e){n.setState({submitSuccess:!1,submitFail:!0,errorMessage:e.response.data.message})}))},n.handleInputChanges=function(e){e.preventDefault(),n.setState(Object(te.a)({},e.currentTarget.name,e.currentTarget.value))},n.onChange=function(e){var t=Array.from(e.target.files);n.setState({uploading:!1,images:t})},n.removeImage=function(e){n.setState({images:n.state.images.filter((function(t){return t.public_id!==e}))})},n.returnToIndex=function(e){n.props.history.push("/manufacturer")},n.state={rating:5,is_public:0,name:"",submitted_by:"",session:"",values:[],loading:!1,submitSuccess:!1,submitFail:!1,errorMessage:null,images:[],headers:{},manufacturer:{}},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){if(this.props.session.isLoggedIn)"Bearer ".concat(this.props.session.credentials.accessToken);else this.props.history.push("/")}},{key:"render",value:function(){var e=this,t=this.state,a=t.submitSuccess,s=t.submitFail,r=t.loading,o=t.errorMessage,i=t.uploading,c=t.images;return n.createElement(Ue,null,n.createElement(Ve,{returnToIndex:this.returnToIndex},n.createElement("div",{className:"col-md-12 "},n.createElement("h2",null,"Create Manufacturer"),!a&&n.createElement("div",{className:"alert alert-info",role:"alert"},"Fill the form below to create a new post"),a&&n.createElement("div",{className:"alert alert-info",role:"alert"},"The form was successfully submitted!"),s&&n.createElement("div",{className:"alert alert-info",role:"alert"},o),n.createElement(xa,{manufacturer:this.state.manufacturer,handleInputChanges:this.handleInputChanges,processFormSubmission:this.processFormSubmission,loading:r},function(){switch(!0){case i:return n.createElement(Ea,null);case c.length>0:return n.createElement(Sa,{images:c,removeImage:e.removeImage});default:return n.createElement(ya,{onChange:e.onChange})}}()))))}}]),a}(n.Component),Ua=Object(i.b)((function(e){return{session:e.session}}))(Da),Ba=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).processFormSubmission=function(){var e=Object(Ke.a)(Ge.a.mark((function e(t){return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n.setState({loading:!0}),k.a.put(x.a.host+x.a.port+"/api/manufacturer/".concat(n.state.id),n.state.values,n.props.session.headers).then((function(e){n.setState({submitSuccess:!0,loading:!1}),setTimeout((function(){n.props.history.push("/manufacturer")}),1500)})).catch((function(e){n.setState({submitSuccess:!1,submitFail:!0,errorMessage:e.response.data.message})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.setValues=function(e){n.setState({values:Object(v.a)(Object(v.a)({},n.state.values),e)})},n.handleInputChanges=function(e){e.preventDefault(),n.setValues(Object(te.a)({},e.currentTarget.id,e.currentTarget.value));var t=n.state.session;t[e.currentTarget.id]=e.currentTarget.value,n.setState({session:t})},n.returnToIndex=function(e){n.props.history.push("/manufacturer")},n.state={id:n.props.match.params.id,session:{},manufacturer:{},values:[],loading:!1,submitSuccess:!1,submitFail:!1,errorMessage:null,headers:{}},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.session.isLoggedIn&&k.a.get(x.a.host+x.a.port+"/api/manufacturer/".concat(this.state.id),this.props.session.headers).then((function(t){var a=t.data;e.setState({manufacturer:a})})).catch((function(t){return e.props.history.push("/manufacturer")}))}},{key:"render",value:function(){var e=this.state,t=e.submitSuccess,a=e.loading,s=e.submitFail,r=e.errorMessage;return n.createElement(Ue,null,n.createElement(Ve,{returnToIndex:this.returnToIndex},n.createElement("div",{className:"col-md-12 "},n.createElement("h2",null,"Edit Manufacturer"),t&&n.createElement("div",{className:"alert alert-info",role:"alert"},"Manufacturer details have been edited successfully "),s&&n.createElement("div",{className:"alert alert-info",role:"alert"},r)),n.createElement(xa,{manufacturer:this.state.manufacturer,loading:a,handleInputChanges:this.handleInputChanges,processFormSubmission:this.processFormSubmission,edit:"true"})),"}")}}]),a}(n.Component),Ra=Object(i.b)((function(e){return{session:e.session}}))(Ba),La=(a(1139),function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).returnToIndex=function(e){n.props.history.push("/manufacturer")},n.state={session:[],headers:{}},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.session.isLoggedIn&&k.a.get(x.a.host+x.a.port+"/api/manufacturer/"+this.props.match.params.id,this.props.session.headers).then((function(t){!e.props.session.isAdmin&&!t.data[0].isPublic||0===t.data.length?e.props.history.push("/manufacturer"):e.setState({session:t.data})})).catch((function(t){return e.props.history.push("/manufacturer")})),this.state.session===[]&&this.props.history.push("/manufacturer")}},{key:"render",value:function(){var e=this.state.session,t=null==e.picture?"no_photo.jpg":e.picture;return s.a.createElement(Ue,null,s.a.createElement(Ve,{returnToIndex:this.returnToIndex},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"wrapper row"},s.a.createElement("div",{className:"preview col-md-6"},s.a.createElement("div",{className:"preview-pic tab-content"},s.a.createElement("div",{className:"tab-pane active",id:"pic-1"},s.a.createElement("img",{src:"https://umanage-mowatr.s3.amazonaws.com/"+t,alt:"session"})))),s.a.createElement("div",{className:"details col-md-6"},s.a.createElement("h3",{className:"session-title"},e.title),s.a.createElement("h5",{className:"submitted-by"},"By ",s.a.createElement("span",null,e.createdAt)),s.a.createElement("h5",{className:"review-no"},"Rated: ",e.rating,"/10 "),s.a.createElement("div",{className:"rating"},s.a.createElement(Xe,{stars:e.rating})),s.a.createElement("h5",{className:"review-no"},"Manufacturer:"),s.a.createElement("p",{className:"session-description"},e.title))))))}}]),a}(n.Component)),Fa=Object(i.b)((function(e){return{session:e.session}}))(La),Ma=function(e){Object(I.a)(a,e);var t=Object(j.a)(a);function a(){return Object(_.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){return n.createElement("div",null,n.createElement(ye,{session:this.props.session}),n.createElement(re.d,null,n.createElement(re.b,{path:"/",exact:!0,component:we}),n.createElement(re.b,{path:"/login",exact:!0,component:Te}),n.createElement(re.b,{path:"/logout",exact:!0,component:we}),n.createElement(Oe,{path:"/user",exact:!0,component:Pe,session:this.props.session}),n.createElement(Oe,{path:"/user/create",exact:!0,component:qe,session:this.props.session}),n.createElement(Oe,{path:"/user/dashboard",exact:!0,component:mt,session:this.props.session}),n.createElement(Oe,{path:"/user/edit/:id",exact:!0,component:Je,session:this.props.session}),n.createElement(re.b,{path:"/session",exact:!0,component:pt}),n.createElement(Oe,{path:"/session/create",exact:!0,component:Pt,session:this.props.session}),n.createElement(Oe,{path:"/session/edit/:id",exact:!0,component:Vt,session:this.props.session}),n.createElement(re.b,{path:"/session/:id",exact:!0,component:ia}),n.createElement(re.b,{path:"/board",exact:!0,component:la}),n.createElement(Oe,{path:"/board/create",exact:!0,component:Tt,session:this.props.session}),n.createElement(Oe,{path:"/board/edit/:id",exact:!0,component:pa,session:this.props.session}),n.createElement(re.b,{path:"/board/:id",exact:!0,component:fa}),n.createElement(re.b,{path:"/location",exact:!0,component:ba}),n.createElement(Oe,{path:"/location/create",exact:!0,component:_a,session:this.props.session}),n.createElement(Oe,{path:"/location/edit/:id",exact:!0,component:ja,session:this.props.session}),n.createElement(re.b,{path:"/location/:id",exact:!0,component:Ca}),n.createElement(re.b,{path:"/manufacturer",exact:!0,component:Aa}),n.createElement(Oe,{path:"/manufacturer/create",exact:!0,component:Ua,session:this.props.session}),n.createElement(Oe,{path:"/manufacturer/edit/:id",exact:!0,component:Ra,session:this.props.session}),n.createElement(re.b,{path:"/manufacturer/:id",exact:!0,component:Fa}),n.createElement(re.b,{component:Ie})))}}]),a}(n.Component),Pa=Object(i.b)((function(e){return{session:e.session}}))(Ma);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(i.a,{store:se},s.a.createElement(oe.a,null,s.a.createElement(Pa,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},14:function(e,t,a){a(112).config(),e.exports={host:"https://zen-camino.com",port:""}},180:function(e,t){},265:function(e,t,a){},369:function(e,t,a){a(112).config(),e.exports={key:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_AWS_DEFAULT_REGION:"us-east-1",REACT_APP_AWS_COGNITO_USER_POOL:"us-east-1_7dmZzXWTs",REACT_APP_AWS_COGNITO_USER_POOL_BASE_URI:"https://umanage.auth.us-east-1.amazoncognito.com",REACT_APP_AWS_COGNITO_CLIENT_ID:"69mrmc3pptcr4sli93igf45gai",REACT_APP_AWS_COGNITO_CALLBACK_URI:"https://zen-camino.com/login",REACT_APP_AWS_COGNITO_SIGNOUT_URI:"https://zen-camino.com/logout",REACT_APP_API_HOST:"https://zen-camino.com",REACT_APP_API_BASE:"https://zen-camino.com",REACT_APP_API_PORT:"",REACT_APP_ENV:"PROD",REACT_APP_AWS_S3_ROOT:"https://surfmemo.s3.amazonaws.com/"}).REACT_WORLD_WEATHER_KEY}},377:function(e,t,a){e.exports=a(1140)},403:function(e,t,a){},404:function(e,t,a){},795:function(e,t,a){},825:function(e,t,a){},852:function(e,t){},854:function(e,t){},864:function(e,t){},866:function(e,t){},891:function(e,t){},892:function(e,t){},936:function(e,t){},938:function(e,t){},960:function(e,t){}},[[377,1,2]]]);
//# sourceMappingURL=main.1bad66af.chunk.js.map